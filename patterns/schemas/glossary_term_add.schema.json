{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "glossary_term_add.schema.json",
  "title": "Glossary Term Add Pattern Instance",
  "description": "Schema for glossary_term_add pattern instances - adds new term to glossary",
  "type": "object",
  "required": [
    "pattern_id",
    "doc_id",
    "inputs"
  ],
  "properties": {
    "pattern_id": {
      "type": "string",
      "const": "PAT-GLOSSARY-TERM-ADD-001",
      "description": "Pattern identifier for adding glossary terms"
    },
    "doc_id": {
      "type": "string",
      "const": "DOC-PAT-GLOSSARY-TERM-ADD-SCHEMA-076",
      "pattern": "^DOC-[A-Z0-9-]+$",
      "description": "Document ID for this pattern"
    },
    "inputs": {
      "type": "object",
      "required": [
        "project_root",
        "term_name",
        "category",
        "definition"
      ],
      "properties": {
        "project_root": {
          "type": "string",
          "description": "Root directory of the project"
        },
        "term_name": {
          "type": "string",
          "minLength": 2,
          "maxLength": 100,
          "description": "Name of the term to add"
        },
        "category": {
          "type": "string",
          "enum": [
            "Core Engine",
            "Patch Management",
            "Error Detection",
            "Specifications",
            "State Management",
            "Integrations",
            "Framework",
            "Project Management"
          ],
          "description": "Category for the term"
        },
        "definition": {
          "type": "string",
          "minLength": 20,
          "maxLength": 1000,
          "description": "Term definition"
        },
        "status": {
          "type": "string",
          "enum": [
            "proposed",
            "draft",
            "active"
          ],
          "default": "draft",
          "description": "Initial status of the term"
        },
        "implementation_files": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Optional implementation file paths"
        },
        "related_terms": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "term_id": {
                "type": "string"
              },
              "relationship": {
                "type": "string",
                "enum": [
                  "uses",
                  "used_by",
                  "depends_on",
                  "required_by",
                  "implements",
                  "implemented_by",
                  "extends",
                  "extended_by",
                  "related"
                ]
              }
            }
          },
          "description": "Related terms and relationships"
        }
      }
    },
    "outputs": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "enum": [
            "success",
            "failure"
          ],
          "description": "Execution status"
        },
        "term_id": {
          "type": "string",
          "pattern": "^TERM-[A-Z]+-[0-9]{3}$",
          "description": "Generated term ID"
        },
        "files_updated": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of files modified"
        },
        "validation_passed": {
          "type": "boolean",
          "description": "Whether validation passed after addition"
        },
        "execution_duration_seconds": {
          "type": "number",
          "description": "Total execution time"
        },
        "errors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of errors encountered"
        }
      }
    }
  },
  "doc_id": "DOC-PAT-GLOSSARY-TERM-ADD-SCHEMA-076"
}
