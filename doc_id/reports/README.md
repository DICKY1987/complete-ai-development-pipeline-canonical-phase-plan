---
doc_id: DOC-GUIDE-README-1389
---

# Reports Directory

**Purpose**: Coverage reports, inventory, and validation outputs  
**Last Updated**: 2025-11-29

---

## Overview

This directory contains **generated reports** and **inventory data** from the Doc ID framework tools:

- Coverage reports
- Document inventory
- Conflict reports
- Mapping data

---

## Files

### Current Inventory

**docs_inventory.jsonl** ðŸ”„ **GENERATED - DO NOT EDIT MANUALLY**
- **Current state** of all doc IDs in repository
- One JSON object per line (JSONL format)
- Generated by: `../tools/doc_id_scanner.py scan`
- Updated: Every scan

**Format**:
```jsonl
{"path": "core/state/db.py", "doc_id": "DOC-CORE-STATE-001", "category": "CORE", "last_scanned": "2025-11-29T10:00:00Z"}
{"path": "error/plugins/ruff.py", "doc_id": "DOC-ERROR-PLUGIN-002", "category": "ERROR", "last_scanned": "2025-11-29T10:00:01Z"}
```

**Usage**:
```bash
# Query inventory
cat docs_inventory.jsonl | jq 'select(.category == "CORE")'

# Count by category
cat docs_inventory.jsonl | jq -r '.category' | sort | uniq -c

# Find missing IDs
cat docs_inventory.jsonl | jq 'select(.doc_id == null)'
```

---

### Coverage Report

**DOC_ID_COVERAGE_REPORT.md** ðŸ“Š **GENERATED**
- **Coverage statistics** and analysis
- Files with/without doc IDs
- Coverage percentage
- Missing file list
- Generated by: `../tools/doc_id_scanner.py report`

**Typical Contents**:
```markdown
# Doc ID Coverage Report
**Generated**: 2025-11-29T10:00:00Z

## Summary
- Total files: 1,234
- Files with doc_id: 1,150
- Coverage: 93.2%

## Missing IDs (84 files)
- path/to/file1.py
- path/to/file2.md
...
```

---

### Folder Index

**DOC_ID_FOLDER_INDEX.md**
- Index of doc_id folder structure
- Quick reference to file locations
- Directory organization

---

### Mapping Data

**doc_id_mapping.json** ðŸ”„ **GENERATED**
- JSON mapping of doc IDs to files
- Used by tools for quick lookups
- Generated during scan

**Format**:
```json
{
  "DOC-CORE-STATE-001": {
    "path": "core/state/db.py",
    "category": "CORE",
    "name": "STATE",
    "sequence": 1
  },
  "DOC-ERROR-PLUGIN-002": {
    "path": "error/plugins/ruff.py",
    "category": "ERROR",
    "name": "PLUGIN",
    "sequence": 2
  }
}
```

---

### Merged Reports

From `docid_reports/` merge:

**cleanup_decisions_20251125.md**
- Cleanup decisions made during Phase 2
- Files removed, consolidated
- Rationale for changes

**merge_PHASE3_PLAN_001.md**
- Phase 3 plan merge report
- Integration status

**preview_PHASE3_PLAN_001.md**
- Preview of Phase 3 execution
- Expected changes

**non_md_txt_files.txt**
- List of non-markdown/text files
- Used for coverage planning

---

## How to Use

### Check Current Coverage

```bash
# 1. Run scanner
cd ../tools
python doc_id_scanner.py scan

# 2. View coverage report
cat ../reports/DOC_ID_COVERAGE_REPORT.md

# 3. Or get stats directly
python doc_id_scanner.py stats
```

---

### Query Inventory

```bash
# Find all CORE module files
cat docs_inventory.jsonl | jq 'select(.category == "CORE")'

# Count files by category
cat docs_inventory.jsonl | \
  jq -r '.category' | \
  sort | \
  uniq -c | \
  sort -rn

# Find files without doc_id
cat docs_inventory.jsonl | \
  jq 'select(.doc_id == null)' > missing_ids.json

# Get all paths for ERROR category
cat docs_inventory.jsonl | \
  jq -r 'select(.category == "ERROR") | .path'
```

---

### Generate Fresh Reports

```bash
cd ../tools

# Full scan and report
python doc_id_scanner.py scan
python doc_id_scanner.py report

# Coverage stats only
python doc_id_scanner.py stats

# Validation report
python doc_id_scanner.py validate > ../reports/validation_$(date +%Y%m%d).txt
```

---

### Track Coverage Over Time

```bash
# Create dated snapshot
cd ../tools
python doc_id_scanner.py report > \
  ../reports/coverage_snapshot_$(date +%Y%m%d).md

# Compare with previous
diff ../reports/coverage_snapshot_20251128.md \
     ../reports/coverage_snapshot_20251129.md
```

---

## Report Types

### 1. Inventory Reports

**Purpose**: Track current state of all doc IDs  
**Format**: JSONL (one JSON per line)  
**Frequency**: Every scan  
**Generated by**: Scanner

**Files**:
- `docs_inventory.jsonl`
- `doc_id_mapping.json`

---

### 2. Coverage Reports

**Purpose**: Measure and track coverage percentage  
**Format**: Markdown  
**Frequency**: On-demand  
**Generated by**: Scanner report command

**Files**:
- `DOC_ID_COVERAGE_REPORT.md`
- `coverage_snapshot_*.md` (dated)

---

### 3. Validation Reports

**Purpose**: Detect conflicts, format violations  
**Format**: Markdown  
**Frequency**: Pre/post major operations  
**Generated by**: Validation tools

**Files**:
- `validation_*.txt` (if errors found)
- `id_conflicts_*.md` (if conflicts exist)

---

### 4. Session Reports

**Purpose**: Document phase completions  
**Format**: Markdown  
**Frequency**: End of each phase  
**Generated by**: Manual or orchestration

**See**: `../session_reports/` for phase completion reports

---

## File Lifecycle

### Inventory Files

```
1. Scanner runs
   â†“
2. Scans repository (excluding .worktrees, .state)
   â†“
3. Extracts doc IDs from files
   â†“
4. Writes docs_inventory.jsonl (overwrites)
   â†“
5. Generates doc_id_mapping.json
```

**Regeneration**: Every scan (files are overwritten)

---

### Coverage Reports

```
1. User runs: scanner.py report
   â†“
2. Reads docs_inventory.jsonl
   â†“
3. Calculates statistics
   â†“
4. Generates DOC_ID_COVERAGE_REPORT.md (overwrites)
```

**Preservation**: Save dated snapshots if needed

---

## Cleanup Policy

### Keep

- âœ… `docs_inventory.jsonl` (current state)
- âœ… `DOC_ID_COVERAGE_REPORT.md` (current coverage)
- âœ… `doc_id_mapping.json` (current mapping)
- âœ… Phase completion reports

### Archive

- ðŸ“¦ Dated coverage snapshots (after 30 days)
- ðŸ“¦ Old validation reports (after resolution)

### Delete

- ðŸ—‘ï¸ Temporary reports (after use)
- ðŸ—‘ï¸ Duplicate reports

---

## Integration with Tools

### Scanner â†’ Reports

```python
# Scanner generates:
- docs_inventory.jsonl
- DOC_ID_COVERAGE_REPORT.md (if --report)
- doc_id_mapping.json

# Scanner reads:
- ../specs/DOC_ID_REGISTRY.yaml (for validation)
```

### Registry CLI â†’ Reports

```python
# Registry CLI reads:
- docs_inventory.jsonl (for validation)

# Registry CLI does NOT generate reports
# (registry is in ../specs/)
```

---

## Validation Integration

### Preflight Validation

```bash
# Before orchestration
cd ../tools
python doc_id_scanner.py scan
python doc_id_scanner.py validate

# If validation fails:
# - Reports written to reports/
# - Review reports/id_conflicts_*.md
# - Resolve conflicts
# - Re-run validation
```

### Post-Execution Validation

```bash
# After orchestration
cd ../tools
python doc_id_scanner.py scan
python doc_id_scanner.py validate

# Generate final coverage
python doc_id_scanner.py report > \
  ../reports/post_execution_$(date +%Y%m%d).md
```

---

## Report Formats

### JSONL (docs_inventory.jsonl)

```jsonl
{"path": "file.py", "doc_id": "DOC-X-Y-001", "category": "X", "scanned_at": "..."}
{"path": "file2.md", "doc_id": "DOC-X-Z-002", "category": "X", "scanned_at": "..."}
```

**Advantages**:
- âœ… One record per line (streamable)
- âœ… Easy to parse (`jq`, `grep`)
- âœ… Append-friendly (if needed)
- âœ… No array wrapper (efficient for large files)

---

### JSON (doc_id_mapping.json)

```json
{
  "DOC-ID-001": {...},
  "DOC-ID-002": {...}
}
```

**Advantages**:
- âœ… Fast lookup by ID
- âœ… Compact
- âœ… Easy to use in Python/JS

---

### Markdown (Coverage Reports)

```markdown
# Report Title
**Generated**: timestamp

## Summary
- Statistics

## Details
- Lists, tables
```

**Advantages**:
- âœ… Human-readable
- âœ… Version control friendly
- âœ… Rich formatting

---

## Related Documentation

- `../tools/README.md` - Tool usage
- `../specs/DOC_ID_FRAMEWORK.md` - Framework spec
- `../session_reports/README.md` - Phase reports

---

**Primary File**: `docs_inventory.jsonl` (current inventory)  
**Coverage**: `DOC_ID_COVERAGE_REPORT.md`  
**Regenerate**: Run `../tools/doc_id_scanner.py scan report`
