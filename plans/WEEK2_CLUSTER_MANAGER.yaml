phases:
  - phase_id: "PH-W2D1"
    workstream_id: "ws-cluster-manager"
    title: "ClusterManager Core"
    objective: "Implement launch_cluster() API with basic round-robin routing"
    phase_type: "implementation"
    depends_on: []
    status: "not_started"
    gh_item_id: null
    estimate_hours: 6
    deliverables:
      - "aim/cluster.py - ClusterManager class"
      - "launch_cluster() API function"
      - "Basic round-robin routing"
      - "Cluster lifecycle management"
    acceptance_criteria:
      - "ClusterManager can spawn N instances"
      - "launch_cluster() returns managed cluster"
      - "Round-robin routing distributes evenly"
      - "Basic tests passing"
    
  - phase_id: "PH-W2D2"
    workstream_id: "ws-cluster-manager"
    title: "Routing Strategies"
    objective: "Implement RoundRobin, LeastBusy, and Sticky routing strategies"
    phase_type: "implementation"
    depends_on: ["PH-W2D1"]
    status: "not_started"
    gh_item_id: null
    estimate_hours: 6
    deliverables:
      - "aim/routing.py - Router implementations"
      - "RoundRobinRouter class"
      - "LeastBusyRouter class"
      - "StickyRouter class"
      - "Unit tests for each router"
    acceptance_criteria:
      - "All 3 routers implemented"
      - "Router tests passing (15+ tests)"
      - "Performance benchmarks collected"
      - "Routing selection <10ms overhead"
    
  - phase_id: "PH-W2D3"
    workstream_id: "ws-cluster-manager"
    title: "Auto-Restart & Circuit Breaker"
    objective: "Add health monitoring, crash detection, and auto-recovery"
    phase_type: "implementation"
    depends_on: ["PH-W2D1"]
    status: "not_started"
    gh_item_id: null
    estimate_hours: 6
    deliverables:
      - "Background health monitor thread"
      - "Auto-restart on crash"
      - "Circuit breaker pattern"
      - "Exponential backoff"
    acceptance_criteria:
      - "Health check runs every 5s"
      - "Crashed instances restart automatically"
      - "Circuit breaker opens after N failures"
      - "Failover time <10 seconds"
    
  - phase_id: "PH-W2D4"
    workstream_id: "ws-cluster-manager"
    title: "Metrics & Monitoring"
    objective: "Track performance metrics and provide monitoring APIs"
    phase_type: "implementation"
    depends_on: ["PH-W2D1", "PH-W2D2", "PH-W2D3"]
    status: "not_started"
    gh_item_id: null
    estimate_hours: 6
    deliverables:
      - "aim/metrics.py - MetricsCollector"
      - "InstanceMetrics dataclass"
      - "Metrics aggregation"
      - "JSON export API"
    acceptance_criteria:
      - "Track: prompts, response time, failures, uptime"
      - "get_metrics() returns complete summary"
      - "Metrics collection <5% overhead"
      - "Thread-safe operations verified"
    
  - phase_id: "PH-W2D5"
    workstream_id: "ws-cluster-manager"
    title: "Integration & Documentation"
    objective: "Complete integration tests, API docs, and usage examples"
    phase_type: "implementation"
    depends_on: ["PH-W2D1", "PH-W2D2", "PH-W2D3", "PH-W2D4"]
    status: "not_started"
    gh_item_id: null
    estimate_hours: 6
    deliverables:
      - "Integration tests (10+ tests)"
      - "aim/docs/CLUSTER_MANAGER_API.md"
      - "examples/cluster_*.py (3 examples)"
      - "Performance benchmarks"
    acceptance_criteria:
      - "All integration tests passing"
      - "API documentation complete"
      - "3 usage examples working"
      - "50+ prompts/min throughput achieved"
      - "Week 2 complete report written"
