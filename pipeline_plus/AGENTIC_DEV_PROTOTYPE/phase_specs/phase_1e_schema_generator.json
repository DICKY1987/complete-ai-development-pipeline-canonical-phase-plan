{
  "phase_id": "PH-1E",
  "workstream_id": "WS-SPEC-MIGRATION",
  "phase_name": "Schema Generator from Specs",
  "objective": "Build tool to auto-generate JSON schemas from machine-readable spec sections for validation",
  "dependencies": ["PH-1A", "PH-1B", "PH-1C"],
  "file_scope": [
    "src/schema_generator.py",
    "tests/test_schema_generator.py",
    "schemas/generated/"
  ],
  "pre_flight_checks": [
    {
      "check_id": "PFC-1E-001",
      "description": "All three spec files exist",
      "command": "test -f specs/UNIVERSAL_PHASE_SPEC_V1.md && test -f specs/PRO_PHASE_SPEC_V1.md && test -f specs/DEV_RULES_V1.md",
      "expected": "exit code 0"
    }
  ],
  "acceptance_tests": [
    {
      "test_id": "AT-1E-001",
      "description": "Can generate phase spec JSON schema from PPS sections",
      "command": "python src/schema_generator.py --generate phase-spec --output schemas/generated/phase_spec.schema.json",
      "expected": "exit code 0"
    },
    {
      "test_id": "AT-1E-002",
      "description": "Generated schema is valid JSON Schema",
      "command": "jq '.\"$schema\"' schemas/generated/phase_spec.schema.json | grep -q 'json-schema.org'",
      "expected": "exit code 0"
    },
    {
      "test_id": "AT-1E-003",
      "description": "Schema enforces required fields from PPS-TEMPLATE",
      "command": "jq '.required | contains([\"phase_id\", \"objective\", \"file_scope\", \"acceptance_tests\"])' schemas/generated/phase_spec.schema.json",
      "expected": "returns true"
    },
    {
      "test_id": "AT-1E-004",
      "description": "Can generate validation rules schema",
      "command": "python src/schema_generator.py --generate validation-rules --output schemas/generated/validation_rules.schema.json",
      "expected": "exit code 0"
    },
    {
      "test_id": "AT-1E-005",
      "description": "Unit tests pass",
      "command": "pytest tests/test_schema_generator.py -v",
      "expected": "all tests pass (>= 8 tests)"
    }
  ],
  "deliverables": [
    "src/schema_generator.py with schema generation from specs",
    "schemas/generated/phase_spec.schema.json",
    "schemas/generated/validation_rules.schema.json",
    "tests/test_schema_generator.py"
  ],
  "estimated_effort_hours": 8,
  "risk_level": "medium",
  "parallel_group": "GROUP-2",
  "notes": "Can execute in parallel with PH-1F (different outputs)"
}
