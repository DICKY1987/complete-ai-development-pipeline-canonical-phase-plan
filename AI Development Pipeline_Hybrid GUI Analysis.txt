---
doc_id: DOC-PAT-AI-DEVELOPMENT-PIPELINE-HYBRID-GUI-208
---

AI Development Pipeline – Hybrid GUI Analysis

   --------------------------------------------------------------

   High-Level Summary

   Major Modules Discovered

   I've identified 11 primary engine/runtime modules organized
   across engine/, core/, error/, aim/, pm/, and related sections:

     - Orchestrator – Job dispatch and adapter coordination
     - Job Queue – Priority queue with dependency tracking
     - Job State Store – Job lifecycle and state persistence
     - Adapters (4 types) – Tool-specific execution wrappers
   (Aider, Codex, Tests, Git)
     - Error Pipeline – Multi-plugin error detection and
   quarantine
     - Planning – Workstream generation (currently
   stub/placeholder)
     - AIM – Tool registry and capability routing
     - Pattern/UET – Pattern execution telemetry and event
   tracking
     - PM (CCPM) – PRD/Epic/Task management
     - File Lifecycle – File state tracking through pipeline
   stages
     - Queue Manager – High-level queue control and worker pool

   Main Output Categories

   Across all modules, outputs fall into these categories:

   ┌───────────────┬──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┐
   │ Category      │ Examples

       │
   ├───────────────┼──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┤
   │ DB Tables     │ runs, workstreams, step_attempts, errors,
   events, jobs, file_lifecycle, pattern_metrics, workers,
   cost_tracking │
   ├───────────────┼──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┤
   │ Log Files     │ Tool logs (job["paths"]["log_file"]),
   orchestrator logs, adapter-specific logs
              │
   ├───────────────┼──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┤
   │ JSON Reports  │ Error reports (job["paths"]["error_report"]),
    pattern run results, validation reports
       │
   ├───────────────┼──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┤
   │ Event Streams │ Pattern events, UET events, error pipeline
   events, job status transitions
         │
   ├───────────────┼──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┤
   │ Metrics       │ Pattern telemetry (success rates, avg
   duration), tool health, cost tracking
              │
   ├───────────────┼──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┤
   │ Sidecar Files │ Generated artifacts, fixed files (from
   auto-fix plugins), quarantine metadata
             │
   └───────────────┴──────────────────────────────────────────────
   ───────────────────────────────────────────────────────────────
   ────┘

   Cross-Module/Global Visuals

   Several tiles should aggregate data across multiple modules:

     - Pipeline Radar – Global run/workstream status heatmap
   (uses: runs, workstreams, jobs, errors)
     - Global Metrics Dashboard – Aggregate success rates, avg
   duration, error counts (uses: step_attempts, errors,
   pattern_metrics)
     - Cost Tracker – Token usage and estimated costs across all
   runs (uses: cost_tracking table)
     - System Health Monitor – Tool availability, worker status,
   queue depth (uses: tool_health_metrics, workers, queue stats)

   --------------------------------------------------------------

   Module: engine/orchestrator

   Role: Central job dispatcher. Accepts job JSON files, routes to
   correct adapter, captures results, updates state store.

   Outputs

   ┌────────────┬─────────────┬───────────────────────────────────
   ─┬─────────────────────────────────────────────────────┐
   │ Output ID  │ Type        │ Source (file/DB/API)
    │ Key Fields / Schema (approx)                        │
   ├────────────┼─────────────┼───────────────────────────────────
   ─┼─────────────────────────────────────────────────────┤
   │ OUT-ORCH-1 │ log_text    │ Console stdout during execution
    │ job_id, tool, workstream_id, status transitions     │
   ├────────────┼─────────────┼───────────────────────────────────
   ─┼─────────────────────────────────────────────────────┤
   │ OUT-ORCH-2 │ db_update   │ Updates jobs table via state_store
    │ job_id, status, exit_code, started_at, completed_at │
   ├────────────┼─────────────┼───────────────────────────────────
   ─┼─────────────────────────────────────────────────────┤
   │ OUT-ORCH-3 │ db_update   │ Updates step_attempts table
    │ run_id, ws_id, step_name, result_json, status       │
   ├────────────┼─────────────┼───────────────────────────────────
   ─┼─────────────────────────────────────────────────────┤
   │ OUT-ORCH-4 │ json_report │ Error report path (on failure)
    │ job_id, tool, exit_code, stderr, error_summary      │
   └────────────┴─────────────┴───────────────────────────────────
   ─┴─────────────────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌─────────────────────┬────────────────────────┬───────────────
   ───────────────────┬───────────────────────────────────────────
   ─────────────────────────────────────────────┐
   │ Tile Name           │ Uses Output IDs        │ Visual Type
                      │ Description
                                                │
   ├─────────────────────┼────────────────────────┼───────────────
   ───────────────────┼───────────────────────────────────────────
   ─────────────────────────────────────────────┤
   │ OrchestratorLogTile │ OUT-ORCH-1             │ Text viewer
   with level filtering │ Live scrolling log of orchestrator
   actions (job starts, tool selection, state updates) │
   ├─────────────────────┼────────────────────────┼───────────────
   ───────────────────┼───────────────────────────────────────────
   ─────────────────────────────────────────────┤
   │ ActiveJobsTile      │ OUT-ORCH-2, OUT-ORCH-3 │ Table with
   status badges         │ List of currently running/queued jobs
   with progress indicators, tool icons, duration   │
   ├─────────────────────┼────────────────────────┼───────────────
   ───────────────────┼───────────────────────────────────────────
   ─────────────────────────────────────────────┤
   │ JobHistoryTile      │ OUT-ORCH-2, OUT-ORCH-3 │ Paginated
   table + sparkline      │ Recent job completions, exit codes,
   duration trend chart                               │
   └─────────────────────┴────────────────────────┴───────────────
   ───────────────────┴───────────────────────────────────────────
   ─────────────────────────────────────────────┘

   Generic Output Example

     [Orchestrator] Starting job: JOB-01JDKR8F3Q2M9X7P5N6T4W8Z2V
     [Orchestrator] Tool: aider
     [Orchestrator] Workstream: ws-01-hardcoded-path-index
     [Orchestrator] Marked job as running:
   JOB-01JDKR8F3Q2M9X7P5N6T4W8Z2V
     [Orchestrator] Dispatching to aider_adapter...
     [Orchestrator] Job completed with exit_code=0, duration=42.3s
     [Orchestrator] Updated state store: status=completed

   --------------------------------------------------------------

   Module: engine/queue

   Role: Priority-based job queue with dependency resolution,
   retry logic, worker pool management, and escalation handling.

   Outputs

   ┌─────────────┬──────────────┬─────────────────────────────────
   ─────────────┬─────────────────────────────────────────────────
   ───────────────────────────────────────┐
   │ Output ID   │ Type         │ Source (file/DB/API)
                │ Key Fields / Schema (approx)
                                          │
   ├─────────────┼──────────────┼─────────────────────────────────
   ─────────────┼─────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ OUT-QUEUE-1 │ db_table     │ job_queue table
   (queue/job_queue.py)         │ job_id, priority, status,
   depends_on, retry_count, queued_at, started_at, completed_at │
   ├─────────────┼──────────────┼─────────────────────────────────
   ─────────────┼─────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ OUT-QUEUE-2 │ db_table     │ workers table (schema.sql)
                │ worker_id, adapter_type, state, current_task_id,
    heartbeat_at                          │
   ├─────────────┼──────────────┼─────────────────────────────────
   ─────────────┼─────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ OUT-QUEUE-3 │ event_stream │ In-memory queue stats (via
   QueueManager API) │ queue_depth, active_jobs, waiting_jobs,
   completed_jobs                                 │
   ├─────────────┼──────────────┼─────────────────────────────────
   ─────────────┼─────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ OUT-QUEUE-4 │ log_text     │ Queue manager logs
                │ Job enqueue/dequeue events, dependency
   resolution, retry attempts                      │
   └─────────────┴──────────────┴─────────────────────────────────
   ─────────────┴─────────────────────────────────────────────────
   ───────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌────────────────────┬──────────────────────────┬──────────────
   ──────────────────┬────────────────────────────────────────────
   ───────────────────────────────────────────┐
   │ Tile Name          │ Uses Output IDs          │ Visual Type
                     │ Description
                                              │
   ├────────────────────┼──────────────────────────┼──────────────
   ──────────────────┼────────────────────────────────────────────
   ───────────────────────────────────────────┤
   │ QueueDashboardTile │ OUT-QUEUE-1, OUT-QUEUE-3 │ Multi-panel
   dashboard          │ Show queue depth gauge, priority
   distribution pie chart, dependency graph viewer      │
   ├────────────────────┼──────────────────────────┼──────────────
   ──────────────────┼────────────────────────────────────────────
   ───────────────────────────────────────────┤
   │ WorkerPoolTile     │ OUT-QUEUE-2              │ Grid of
   worker cards           │ Each worker as a card showing state
   (IDLE/BUSY/DRAINING), current task, heartbeat age │
   ├────────────────────┼──────────────────────────┼──────────────
   ──────────────────┼────────────────────────────────────────────
   ───────────────────────────────────────────┤
   │ RetryMonitorTile   │ OUT-QUEUE-1              │ Table with
   retry progress bars │ Jobs with retry_count > 0, showing
   attempt history and next retry time                │
   └────────────────────┴──────────────────────────┴──────────────
   ──────────────────┴────────────────────────────────────────────
   ───────────────────────────────────────────┘

   Generic Output Example

     {
       "queue_stats": {
         "total_queued": 12,
         "active": 3,
         "waiting": 4,
         "completed_today": 47
       },
       "queue_items": [
         {
           "job_id": "JOB-01JDKR9G8S3N0Y8Q6P7U5X9A3W",
           "priority": 2,
           "status": "queued",
           "depends_on": ["JOB-01JDKR8F3Q2M9X7P5N6T4W8Z2V"],
           "retry_count": 0,
           "queued_at": "2025-11-26T18:15:32Z"
         }
       ],
       "workers": [
         {
           "worker_id": "worker-001",
           "state": "BUSY",
           "current_task_id": "JOB-01JDKR8F3Q2M9X7P5N6T4W8Z2V",
           "heartbeat_at": "2025-11-26T18:29:45Z"
         }
       ]
     }

   --------------------------------------------------------------

   Module: engine/state_store

   Role: Job-centric state persistence layer. Maps job operations
   to underlying workstream schema, provides state query API for
   GUI.

   Outputs

   ┌─────────────┬──────────┬───────────────────────────┬─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┐
   │ Output ID   │ Type     │ Source (file/DB/API)      │ Key
   Fields / Schema (approx)
                                      │
   ├─────────────┼──────────┼───────────────────────────┼─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┤
   │ OUT-STATE-1 │ db_table │ runs table                │ run_id,
   status, created_at, updated_at, metadata_json
                                  │
   ├─────────────┼──────────┼───────────────────────────┼─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┤
   │ OUT-STATE-2 │ db_table │ workstreams table         │ ws_id,
   run_id, status, depends_on, created_at, metadata_json
                                   │
   ├─────────────┼──────────┼───────────────────────────┼─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┤
   │ OUT-STATE-3 │ db_table │ step_attempts table       │ id,
   run_id, ws_id, step_name, status, started_at, completed_at,
   result_json                           │
   ├─────────────┼──────────┼───────────────────────────┼─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┤
   │ OUT-STATE-4 │ db_table │ events table              │ id,
   timestamp, run_id, ws_id, event_type, payload_json
                                      │
   ├─────────────┼──────────┼───────────────────────────┼─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┤
   │ OUT-STATE-5 │ db_table │ jobs table (new schema)   │ job_id,
   parent_ws_id, run_id, tools_invoked_json, latest_step_status,
   exit_code, start_time, end_time │
   ├─────────────┼──────────┼───────────────────────────┼─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┤
   │ OUT-STATE-6 │ api_json │ State store query methods │
   get_run(), list_workstreams(), get_job_status(), query_events()
                                          │
   └─────────────┴──────────┴───────────────────────────┴─────────
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌─────────────────────┬───────────────────────────────────────┬
   ────────────────────────┬──────────────────────────────────────
   ────────────────────────────────────────────────────────┐
   │ Tile Name           │ Uses Output IDs                       │
    Visual Type            │ Description
                                                           │
   ├─────────────────────┼───────────────────────────────────────┼
   ────────────────────────┼──────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ RunTimelineTile     │ OUT-STATE-1, OUT-STATE-2, OUT-STATE-3 │
    Gantt chart / timeline │ Visual timeline of run with
   workstreams as swimlanes, steps as blocks, color-coded by
   status │
   ├─────────────────────┼───────────────────────────────────────┼
   ────────────────────────┼──────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ WorkstreamBoardTile │ OUT-STATE-2                           │
    Kanban board           │ Columns: Pending → Running →
   Completed → Failed, drag-and-drop to retry (future)
    │
   ├─────────────────────┼───────────────────────────────────────┼
   ────────────────────────┼──────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ JobStatusTile       │ OUT-STATE-5                           │
    Status cards grid      │ Each job as a card with tool icon,
   status badge, duration, latest step description           │
   ├─────────────────────┼───────────────────────────────────────┼
   ────────────────────────┼──────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ EventLogTile        │ OUT-STATE-4                           │
    Filterable log viewer  │ Real-time event stream with filters
   for event_type, ws_id, timestamp range                   │
   └─────────────────────┴───────────────────────────────────────┴
   ────────────────────────┴──────────────────────────────────────
   ────────────────────────────────────────────────────────┘

   Generic Output Example

     {
       "run": {
         "run_id": "run-20251126-182500",
         "status": "in_progress",
         "created_at": "2025-11-26T18:25:00Z",
         "updated_at": "2025-11-26T18:29:55Z"
       },
       "workstreams": [
         {
           "ws_id": "ws-01-hardcoded-path-index",
           "status": "completed",
           "step_attempts": 2,
           "latest_step": "validate_imports",
           "duration_s": 127.4
         },
         {
           "ws_id": "ws-02-section-mapping-config",
           "status": "running",
           "step_attempts": 1,
           "latest_step": "aider_refactor",
           "duration_s": 45.2
         }
       ],
       "events_recent": [
         {
           "id": 423,
           "event_type": "step_complete",
           "ws_id": "ws-01-hardcoded-path-index",
           "timestamp": "2025-11-26T18:28:15Z"
         }
       ]
     }

   --------------------------------------------------------------

   Module: engine/adapters/*

   Role: Tool-specific execution wrappers. Each adapter (aider,
   codex, tests, git) builds commands, runs tools, captures
   logs/output, returns JobResult.

   Outputs

   ┌─────────────┬──────────────────┬─────────────────────────────
   ───────────────────────────────┬───────────────────────────────
   ──────────────────────────────────────────────┐
   │ Output ID   │ Type             │ Source (file/DB/API)
                                  │ Key Fields / Schema (approx)
                                                 │
   ├─────────────┼──────────────────┼─────────────────────────────
   ───────────────────────────────┼───────────────────────────────
   ──────────────────────────────────────────────┤
   │ OUT-ADAPT-1 │ log_text         │ job["paths"]["log_file"]
   (per-job log file)                │ Timestamped stdout/stderr
   from tool execution, command invoked, working dir │
   ├─────────────┼──────────────────┼─────────────────────────────
   ───────────────────────────────┼───────────────────────────────
   ──────────────────────────────────────────────┤
   │ OUT-ADAPT-2 │ json_report      │ job["paths"]["error_report"]
    (on exit_code != 0)           │ job_id, tool, exit_code,
   stderr_lines, error_summary                        │
   ├─────────────┼──────────────────┼─────────────────────────────
   ───────────────────────────────┼───────────────────────────────
   ──────────────────────────────────────────────┤
   │ OUT-ADAPT-3 │ JobResult object │ Returned to orchestrator
   (in-memory)                       │ exit_code,
   error_report_path, duration_s, stdout, stderr, success
     │
   ├─────────────┼──────────────────┼─────────────────────────────
   ───────────────────────────────┼───────────────────────────────
   ──────────────────────────────────────────────┤
   │ OUT-ADAPT-4 │ sidecar_files    │ Generated/modified files
   (e.g., Aider edits, test reports) │ Varies by tool; stored in
   working_dir or specified output paths             │
   └─────────────┴──────────────────┴─────────────────────────────
   ───────────────────────────────┴───────────────────────────────
   ──────────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌────────────────────┬──────────────────────────┬──────────────
   ────────────┬──────────────────────────────────────────────────
   ───────────────────────────────────────┐
   │ Tile Name          │ Uses Output IDs          │ Visual Type
               │ Description
                                          │
   ├────────────────────┼──────────────────────────┼──────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ ToolLogViewerTile  │ OUT-ADAPT-1              │ Tabbed log
   viewer        │ Tabs for each adapter type, live-tail of tool
   logs, syntax highlighting for error lines │
   ├────────────────────┼──────────────────────────┼──────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ AdapterMetricsTile │ OUT-ADAPT-3 (aggregated) │ Bar charts +
   stats table │ Per-adapter success rate, avg duration, exit code
    distribution, recent failures         │
   ├────────────────────┼──────────────────────────┼──────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ SidecarFilesTile   │ OUT-ADAPT-4              │ File tree +
   diff viewer  │ Show files touched by tools, diff before/after,
   link to open in editor                  │
   ├────────────────────┼──────────────────────────┼──────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────┤
   │ ToolHealthTile     │ OUT-ADAPT-3 (inferred)   │ Health status
    cards      │ Per-tool status (healthy/degraded/circuit_open),
   last success time, failure streak      │
   └────────────────────┴──────────────────────────┴──────────────
   ────────────┴──────────────────────────────────────────────────
   ───────────────────────────────────────┘

   Generic Output Example

     === Aider Job: JOB-01JDKR8F3Q2M9X7P5N6T4W8Z2V ===
     Command: aider --yes --message "Refactor hardcoded paths to
   use Path objects" src/core/db.py
     Working dir: C:\Users\richg\ALL_AI\Complete AI Development
   Pipeline

     === STDOUT ===
     Aider v0.45.0
     Loaded model: gpt-4o-mini-2024-07-18
     Added src/core/db.py to chat
     > Refactor hardcoded paths to use Path objects
     Processing...
     Applied edits to src/core/db.py
     2 changes made.

     === STDERR ===
     (empty)

     === Exit Code: 0 ===
     Duration: 38.7s

   --------------------------------------------------------------

   Module: error/engine + error/plugins/*

   Role: Plugin-based error detection pipeline. Runs multiple
   linter/validator plugins (ruff, mypy, semgrep, etc.) on files,
   aggregates issues, normalizes to PluginIssue schema, detects
   hard failures vs style warnings.

   Outputs

   ┌───────────┬───────────────┬──────────────────────────────────
   ───────────────────────┬───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┐
   │ Output ID │ Type          │ Source (file/DB/API)
                          │ Key Fields / Schema (approx)
                                                                │
   ├───────────┼───────────────┼──────────────────────────────────
   ───────────────────────┼───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-ERR-1 │ json_report   │ Error pipeline report (from
   run_error_pipeline())       │ attempt_number, ai_agent, run_id,
    workstream_id, issues[], summary{}
      │
   ├───────────┼───────────────┼──────────────────────────────────
   ───────────────────────┼───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-ERR-2 │ db_table      │ errors table
                          │ id, run_id, ws_id, category, tool,
   message, path, created_at
    │
   ├───────────┼───────────────┼──────────────────────────────────
   ───────────────────────┼───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-ERR-3 │ db_table      │ error_records table (enhanced
   schema)                   │ error_id, file_id, severity,
   category, human_message, occurrence_count, quarantine_path,
   can_retry │
   ├───────────┼───────────────┼──────────────────────────────────
   ───────────────────────┼───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-ERR-4 │ log_text      │ Plugin execution logs
   (per-plugin)                      │ Tool output, parsed issues,
    execution time
            │
   ├───────────┼───────────────┼──────────────────────────────────
   ───────────────────────┼───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-ERR-5 │ sidecar_files │ Auto-fixed files (from *_fix
   plugins like black, isort) │ Modified source files written to
   disk
      │
   ├───────────┼───────────────┼──────────────────────────────────
   ───────────────────────┼───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-ERR-6 │ db_table      │ file_lifecycle table (quarantine
   tracking)              │ file_id, current_state (quarantined),
   quarantine_reason, quarantine_folder                         │
   └───────────┴───────────────┴──────────────────────────────────
   ───────────────────────┴───────────────────────────────────────
   ─────────────────────────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌──────────────────────┬──────────────────────┬────────────────
   ───────────────┬───────────────────────────────────────────────
   ──────────────────────────────────────────────────────┐
   │ Tile Name            │ Uses Output IDs      │ Visual Type
                  │ Description
                                                         │
   ├──────────────────────┼──────────────────────┼────────────────
   ───────────────┼───────────────────────────────────────────────
   ──────────────────────────────────────────────────────┤
   │ ErrorQuarantineTile  │ OUT-ERR-3, OUT-ERR-6 │ Table +
   severity badges       │ List quarantined files, error
   signature, occurrence count, auto-fix available badge, "Retry"
   button │
   ├──────────────────────┼──────────────────────┼────────────────
   ───────────────┼───────────────────────────────────────────────
   ──────────────────────────────────────────────────────┤
   │ PluginActivityTile   │ OUT-ERR-1, OUT-ERR-4 │ Plugin grid
   with status icons │ Each plugin as a card: last run time,
   issues found, success/failure badge                           │
   ├──────────────────────┼──────────────────────┼────────────────
   ───────────────┼───────────────────────────────────────────────
   ──────────────────────────────────────────────────────┤
   │ ErrorSignatureTile   │ OUT-ERR-3            │ Grouped table
                  │ Group errors by signature/category, show top
   10 error types, counts, affected files                 │
   ├──────────────────────┼──────────────────────┼────────────────
   ───────────────┼───────────────────────────────────────────────
   ──────────────────────────────────────────────────────┤
   │ ErrorTimelineTile    │ OUT-ERR-2            │ Timeline chart
                  │ Error occurrences over time, color-coded by
   severity, filterable by category                        │
   ├──────────────────────┼──────────────────────┼────────────────
   ───────────────┼───────────────────────────────────────────────
   ──────────────────────────────────────────────────────┤
   │ AutoFixDashboardTile │ OUT-ERR-3, OUT-ERR-5 │ Action cards
                  │ Show fixable errors, "Apply Auto-Fix" buttons,
    preview diffs                                        │
   └──────────────────────┴──────────────────────┴────────────────
   ───────────────┴───────────────────────────────────────────────
   ──────────────────────────────────────────────────────┘

   Generic Output Example

     {
       "attempt_number": 2,
       "ai_agent": "aider",
       "run_id": "run-20251126-182500",
       "workstream_id": "ws-03-refactor-meta-section",
       "issues": [
         {
           "tool": "ruff",
           "path": "src/core/db.py",
           "line": 42,
           "column": 15,
           "code": "F401",
           "category": "style",
           "severity": "warning",
           "message": "Module imported but unused: 'json'"
         },
         {
           "tool": "mypy",
           "path": "src/core/orchestrator.py",
           "line": 87,
           "column": 25,
           "code": "arg-type",
           "category": "type",
           "severity": "error",
           "message": "Argument 1 has incompatible type 'str';
   expected 'Path'"
         }
       ],
       "summary": {
         "total_issues": 2,
         "issues_by_tool": {"ruff": 1, "mypy": 1},
         "issues_by_category": {"style": 1, "type": 1},
         "has_hard_fail": true,
         "style_only": false,
         "total_errors": 1,
         "total_warnings": 1
       }
     }

   --------------------------------------------------------------

   Module: aim (AI Tools Registry)

   Role: Tool capability registry and routing. Maps task
   requirements to available tools, provides fallback chains,
   handles secret injection, validates environment.

   Outputs

   ┌───────────┬───────────┬──────────────────────────────────────
   ────────┬──────────────────────────────────────────────────────
   ────────────────────┐
   │ Output ID │ Type      │ Source (file/DB/API)
           │ Key Fields / Schema (approx)
                       │
   ├───────────┼───────────┼──────────────────────────────────────
   ────────┼──────────────────────────────────────────────────────
   ────────────────────┤
   │ OUT-AIM-1 │ json_file │ AIM_registry.json
           │ tools[], each with {id, capabilities[], fallback_to,
   status, last_check} │
   ├───────────┼───────────┼──────────────────────────────────────
   ────────┼──────────────────────────────────────────────────────
   ────────────────────┤
   │ OUT-AIM-2 │ json_file │ AIM_coordination_rules.json
           │ task_mappings[], exclusion_rules[], priority_order[]
                       │
   ├───────────┼───────────┼──────────────────────────────────────
   ────────┼──────────────────────────────────────────────────────
   ────────────────────┤
   │ OUT-AIM-3 │ api_json  │ load_aim_registry(), get_tool_info()
           │ Tool metadata, capability flags, invocation counts
                       │
   ├───────────┼───────────┼──────────────────────────────────────
   ────────┼──────────────────────────────────────────────────────
   ────────────────────┤
   │ OUT-AIM-4 │ log_text  │ AIM bridge logs
           │ Tool selection decisions, fallback triggers, secret
   injection events     │
   ├───────────┼───────────┼──────────────────────────────────────
   ────────┼──────────────────────────────────────────────────────
   ────────────────────┤
   │ OUT-AIM-5 │ db_table  │ tool_health_metrics table
   (planned/inferred) │ tool_id, status, success_rate,
   mean_latency, requests_5min, retry_count  │
   └───────────┴───────────┴──────────────────────────────────────
   ────────┴──────────────────────────────────────────────────────
   ────────────────────┘

   Suggested Visuals (Tiles)

   ┌───────────────────┬──────────────────────┬───────────────────
   ──────────────┬────────────────────────────────────────────────
   ────────────────────────────────────────────┐
   │ Tile Name         │ Uses Output IDs      │ Visual Type
                 │ Description
                                               │
   ├───────────────────┼──────────────────────┼───────────────────
   ──────────────┼────────────────────────────────────────────────
   ────────────────────────────────────────────┤
   │ ToolRegistryTile  │ OUT-AIM-1, OUT-AIM-3 │ Hierarchical tree
   + detail pane │ Browse tool catalog, view capabilities,
   fallback chains, version info                      │
   ├───────────────────┼──────────────────────┼───────────────────
   ──────────────┼────────────────────────────────────────────────
   ────────────────────────────────────────────┤
   │ ToolHealthTile    │ OUT-AIM-5            │ Health dashboard
                 │ Per-tool health status
   (healthy/degraded/unreachable), success rate gauges, latency
   charts │
   ├───────────────────┼──────────────────────┼───────────────────
   ──────────────┼────────────────────────────────────────────────
   ────────────────────────────────────────────┤
   │ TaskRoutingTile   │ OUT-AIM-2, OUT-AIM-4 │ Flow diagram
                 │ Visual representation of task → tool routing
   logic, show coordination rules                │
   ├───────────────────┼──────────────────────┼───────────────────
   ──────────────┼────────────────────────────────────────────────
   ────────────────────────────────────────────┤
   │ CapabilityMapTile │ OUT-AIM-1            │ Matrix view
                 │ Capabilities (rows) × Tools (columns),
   checkmarks for support, highlight gaps              │
   └───────────────────┴──────────────────────┴───────────────────
   ──────────────┴────────────────────────────────────────────────
   ────────────────────────────────────────────┘

   Generic Output Example

     {
       "tools": [
         {
           "id": "aider",
           "name": "Aider AI",
           "capabilities": ["code_refactor", "code_generation",
   "test_writing"],
           "status": "healthy",
           "fallback_to": "codex",
           "last_check": "2025-11-26T18:20:00Z",
           "invocation_count_today": 23
         },
         {
           "id": "ruff",
           "name": "Ruff Linter",
           "capabilities": ["lint_python", "auto_fix_style"],
           "status": "healthy",
           "last_check": "2025-11-26T18:28:30Z"
         }
       ],
       "task_mappings": {
         "refactor_imports": ["aider", "codex"],
         "lint_check": ["ruff", "pylint"]
       }
     }

   --------------------------------------------------------------

   Module: patterns/UET (Pattern Telemetry)

   Role: Pattern execution event tracking and metrics aggregation.
   Logs pattern selection, template expansion, validation,
   execution lifecycle. Provides telemetry for pattern success
   rates and performance.

   Outputs

   ┌───────────┬─────────────┬────────────────────────────────────
   ─────────────────────┬─────────────────────────────────────────
   ─────────────────────────────────────────────────────────────┐
   │ Output ID │ Type        │ Source (file/DB/API)
                        │ Key Fields / Schema (approx)
                                                                │
   ├───────────┼─────────────┼────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-PAT-1 │ db_table    │ pattern_metrics table
   (m010003_pattern_telemetry_db.py) │ pattern_id, version,
   total_uses, success_count, failure_count,
   avg_execution_seconds, last_used      │
   ├───────────┼─────────────┼────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-PAT-2 │ db_table    │ uet_events table (schema.sql)
                        │ id, event_type, worker_id, task_id,
   run_id, timestamp, payload_json
     │
   ├───────────┼─────────────┼────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-PAT-3 │ json_schema │ pattern_run.v1.json sidecar files
                        │ pattern_run_id, pattern_id, status,
   started_at, finished_at, inputs, outputs, artifacts[],
   metrics{} │
   ├───────────┼─────────────┼────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-PAT-4 │ json_schema │ pattern_event.v1.json event stream
                        │ event_id, event_type
   (pattern.selection., pattern.execution.), timestamp, details{}
                    │
   ├───────────┼─────────────┼────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ─────────────────────────────────────────────────────────────┤
   │ OUT-PAT-5 │ log_text    │ Pattern execution logs
                        │ Pattern selection reasoning, template
   expansion results, validation checks
   │
   └───────────┴─────────────┴────────────────────────────────────
   ─────────────────────┴─────────────────────────────────────────
   ─────────────────────────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌─────────────────────────┬──────────────────────┬─────────────
   ────────────┬──────────────────────────────────────────────────
   ────────────────────────────────────────────────────────┐
   │ Tile Name               │ Uses Output IDs      │ Visual Type
               │ Description
                                                           │
   ├─────────────────────────┼──────────────────────┼─────────────
   ────────────┼──────────────────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ PatternActivityTile     │ OUT-PAT-2, OUT-PAT-4 │ Timeline +
   event viewer │ Show pattern lifecycle events (selection →
   expansion → validation → execution), filterable by pattern_id │
   ├─────────────────────────┼──────────────────────┼─────────────
   ────────────┼──────────────────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ PatternMetricsTile      │ OUT-PAT-1            │ Leaderboard
   + charts    │ Top patterns by usage, success rate bars, avg
   execution time sparklines                                  │
   ├─────────────────────────┼──────────────────────┼─────────────
   ────────────┼──────────────────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ PatternRunDetailTile    │ OUT-PAT-3            │ Detail panel
    with tabs  │ Tabs: Inputs, Outputs, Artifacts, Metrics, Error
   (if failed), show JSON pretty-printed                   │
   ├─────────────────────────┼──────────────────────┼─────────────
   ────────────┼──────────────────────────────────────────────────
   ────────────────────────────────────────────────────────┤
   │ PatternSelectionLogTile │ OUT-PAT-4, OUT-PAT-5 │ Filterable
   event log    │ Pattern selection decisions, show candidate
   patterns, selection method (explicit/auto/fallback)          │
   └─────────────────────────┴──────────────────────┴─────────────
   ────────────┴──────────────────────────────────────────────────
   ────────────────────────────────────────────────────────┘

   Generic Output Example

     {
       "pattern_run": {
         "pattern_run_id": "PRUN-01JDKR9G8S3N0Y8Q6P7U5X9A3W",
         "pattern_id": "PAT-SEMGREP-001",
         "job_id": "JOB-01JDKR8F3Q2M9X7P5N6T4W8Z2V",
         "operation_kind": "semgrep_scan",
         "status": "success",
         "started_at": "2025-11-26T18:26:10Z",
         "finished_at": "2025-11-26T18:26:42Z",
         "duration_seconds": 32.1,
         "metrics": {
           "template_expansion_ms": 125,
           "validation_ms": 50,
           "execution_ms": 31800
         }
       },
       "events": [
         {
           "event_id": "EVT-01JDKR9H1T4O1Z9R7Q8V6Y0B4X",
           "event_type": "pattern.selection.resolved",
           "timestamp": "2025-11-26T18:26:10Z",
           "details": {
             "pattern_id": "PAT-SEMGREP-001",
             "selection_method": "auto"
           }
         },
         {
           "event_id": "EVT-01JDKR9H2U5P2A0S8R9W7Z1C5Y",
           "event_type": "pattern.execution.completed",
           "timestamp": "2025-11-26T18:26:42Z",
           "details": {
             "exit_code": 0,
             "duration_seconds": 32.1
           }
         }
       ]
     }

   --------------------------------------------------------------

   Module: pm (CCPM – Project Management)

   Role: PRD, Epic, and Task lifecycle management. Tracks planning
   artifacts, implementation status, pipeline event subscriptions.

   Outputs

   ┌───────────┬────────────┬─────────────────────────────────────
   ─────┬─────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────┐
   │ Output ID │ Type       │ Source (file/DB/API)
        │ Key Fields / Schema (approx)
                                                    │
   ├───────────┼────────────┼─────────────────────────────────────
   ─────┼─────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────┤
   │ OUT-PM-1  │ yaml_files │ pm/prds/.yaml, pm/epics/.yaml
        │ PRD: {name, title, status, requirements[],
   success_criteria[]} <br> Epic: {id, prd_ref, status, tasks[]} │
   ├───────────┼────────────┼─────────────────────────────────────
   ─────┼─────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────┤
   │ OUT-PM-2  │ db_table   │ Custom PM events table (inferred)
        │ event_type (workstream_start, step_complete, etc.),
   prd_id, epic_id, timestamp                           │
   ├───────────┼────────────┼─────────────────────────────────────
   ─────┼─────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────┤
   │ OUT-PM-3  │ api_json   │ PM models (models.py)
        │ PRD.validate(), Epic.progress_summary(), Task status
   enums                                               │
   ├───────────┼────────────┼─────────────────────────────────────
   ─────┼─────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────┤
   │ OUT-PM-4  │ log_text   │ Event handler logs
   (pm/event_handler.py) │ Event processing, PRD/Epic status
   updates triggered by pipeline events
           │
   └───────────┴────────────┴─────────────────────────────────────
   ─────┴─────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌─────────────────┬────────────────────┬───────────────────────
   ────────────┬──────────────────────────────────────────────────
   ───────────────────────────────────────────────┐
   │ Tile Name       │ Uses Output IDs    │ Visual Type
               │ Description
                                                  │
   ├─────────────────┼────────────────────┼───────────────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────────────┤
   │ PRDBoardTile    │ OUT-PM-1           │ Card grid
               │ Each PRD as a card: title, status badge, progress
    % (based on linked epics), priority indicator │
   ├─────────────────┼────────────────────┼───────────────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────────────┤
   │ EpicTrackerTile │ OUT-PM-1, OUT-PM-3 │ Hierarchical list +
   progress bars │ Show epics nested under PRDs, task completion
   %, status, estimated effort                       │
   ├─────────────────┼────────────────────┼───────────────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────────────┤
   │ TaskKanbanTile  │ OUT-PM-1           │ Kanban board
               │ Columns: Draft → Planned → In Progress →
   Completed → Blocked, tasks as cards                    │
   ├─────────────────┼────────────────────┼───────────────────────
   ────────────┼──────────────────────────────────────────────────
   ───────────────────────────────────────────────┤
   │ PMEventLogTile  │ OUT-PM-2, OUT-PM-4 │ Event log viewer
               │ Show pipeline events subscribed by PM module,
   linkage to PRD/Epic updates                       │
   └─────────────────┴────────────────────┴───────────────────────
   ────────────┴──────────────────────────────────────────────────
   ───────────────────────────────────────────────┘

   Generic Output Example

     # pm/prds/prd-001-refactor-paths.yaml
     name: prd-001-refactor-paths
     title: "Refactor Hardcoded Paths to Section-Based Imports"
     status: in-progress
     priority: high
     requirements:
       - "Replace src/pipeline/* imports with core.* imports"
       - "Update all callers to use new paths"
       - "Add CI gate to prevent old paths"
     success_criteria:
       - "Zero references to src/pipeline/ in codebase"
       - "CI gate passes on main branch"

     # Linked epic
     epic_id: epic-001-path-refactor
     tasks_total: 15
     tasks_completed: 8
     progress_pct: 53.3

   --------------------------------------------------------------

   Module: core/planning (Planner)

   Role: Automated workstream generation from specs (currently
   stub/placeholder). Future: decompose PRDs/OpenSpec into
   workstreams, infer file scopes.

   Outputs

   ┌────────────┬───────────┬─────────────────────────────────────
   ─────────────────────┬─────────────────────────────────────────
   ───────────────────────────────────────────┐
   │ Output ID  │ Type      │ Source (file/DB/API)
                        │ Key Fields / Schema (approx)
                                              │
   ├────────────┼───────────┼─────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ───────────────────────────────────────────┤
   │ OUT-PLAN-1 │ json_file │ Generated workstream bundles
   (m010002_planner.py output) │ ws_id, openspec_change,
   ccpm_issue, gate, files_scope[], tasks[], tool, metadata{} │
   ├────────────┼───────────┼─────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ───────────────────────────────────────────┤
   │ OUT-PLAN-2 │ log_text  │ Planner execution logs
                        │ Decomposition decisions, file scope
   inference, AI tool consultation logs           │
   ├────────────┼───────────┼─────────────────────────────────────
   ─────────────────────┼─────────────────────────────────────────
   ───────────────────────────────────────────┤
   │ OUT-PLAN-3 │ api_json  │ plan_workstreams_from_spec()
                        │ Returns list of draft workstream dicts
   for review                                  │
   └────────────┴───────────┴─────────────────────────────────────
   ─────────────────────┴─────────────────────────────────────────
   ───────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌──────────────────────┬────────────────────────┬──────────────
   ──────┬────────────────────────────────────────────────────────
   ───────────────────┐
   │ Tile Name            │ Uses Output IDs        │ Visual Type
         │ Description
                      │
   ├──────────────────────┼────────────────────────┼──────────────
   ──────┼────────────────────────────────────────────────────────
   ───────────────────┤
   │ PlannerOutputTile    │ OUT-PLAN-1             │ JSON tree
   viewer   │ Show generated workstreams, expandable nodes for
   files_scope and tasks    │
   ├──────────────────────┼────────────────────────┼──────────────
   ──────┼────────────────────────────────────────────────────────
   ───────────────────┤
   │ PlannerLogTile       │ OUT-PLAN-2             │ Log viewer
         │ Show planner reasoning, decomposition rules applied, AI
    prompts/responses │
   ├──────────────────────┼────────────────────────┼──────────────
   ──────┼────────────────────────────────────────────────────────
   ───────────────────┤
   │ WorkstreamReviewTile │ OUT-PLAN-1, OUT-PLAN-3 │ Editable form
    grid │ Allow human review/editing of generated workstreams
   before approval       │
   └──────────────────────┴────────────────────────┴──────────────
   ──────┴────────────────────────────────────────────────────────
   ───────────────────┘

   Note: This module is currently a stub. Outputs are
   planned/inferred based on function signatures and docstrings.

   Generic Output Example

     {
       "generated_workstreams": [
         {
           "id": "ws-generated-placeholder",
           "openspec_change": "OS-GENERATED-001",
           "ccpm_issue": 999,
           "gate": 1,
           "files_scope": ["src/placeholder.py"],
           "tasks": ["Implement generated placeholder logic."],
           "tool": "aider",
           "metadata": {
             "notes": "This is a placeholder generated by the
   planner stub.",
             "auto_generated": true,
             "review_required": true
           }
         }
       ],
       "planner_version": "v0-stub"
     }

   --------------------------------------------------------------

   Module: File Lifecycle Tracking

   Role: Tracks individual file state through pipeline stages
   (discovered → classified → intake → processing →
   committed/quarantined). Records tool touches, state
   transitions.

   Outputs

   ┌────────────┬──────────┬─────────────────────────────────────┬
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────────────────────────────┐
   │ Output ID  │ Type     │ Source (file/DB/API)                │
    Key Fields / Schema (approx)
                                                          │
   ├────────────┼──────────┼─────────────────────────────────────┼
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────────────────────────────┤
   │ OUT-FILE-1 │ db_table │ file_lifecycle table (schema.sql)   │
    file_id, current_path, file_role, current_state,
   workstream_id, job_id, first_seen, committed_sha,
   quarantine_reason │
   ├────────────┼──────────┼─────────────────────────────────────┼
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────────────────────────────┤
   │ OUT-FILE-2 │ db_table │ file_state_history table            │
    id, file_id, state, timestamp
                                                          │
   ├────────────┼──────────┼─────────────────────────────────────┼
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────────────────────────────┤
   │ OUT-FILE-3 │ db_table │ file_tool_touches table             │
    id, file_id, tool_id, tool_name, action, status,
   error_message, timestamp
        │
   ├────────────┼──────────┼─────────────────────────────────────┼
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────────────────────────────┤
   │ OUT-FILE-4 │ api_json │ File lifecycle query API (inferred) │
    get_file_state(), get_file_history(), list_files_by_state()
                                                          │
   └────────────┴──────────┴─────────────────────────────────────┴
   ───────────────────────────────────────────────────────────────
   ───────────────────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌─────────────────────┬────────────────────────────────────────
   ────┬──────────────────────────────────────────┬───────────────
   ───────────────────────────────────────────────────────────────
   ─────┐
   │ Tile Name           │ Uses Output IDs
       │ Visual Type                              │ Description

        │
   ├─────────────────────┼────────────────────────────────────────
   ────┼──────────────────────────────────────────┼───────────────
   ───────────────────────────────────────────────────────────────
   ─────┤
   │ FileRadarTile       │ OUT-FILE-1
       │ State distribution pie chart + file grid │ Show file
   count by state, grid filterable by state/role/workstream
            │
   ├─────────────────────┼────────────────────────────────────────
   ────┼──────────────────────────────────────────┼───────────────
   ───────────────────────────────────────────────────────────────
   ─────┤
   │ FileTimelineTile    │ OUT-FILE-2
       │ Timeline/swimlane chart                  │ Per-file state
    transitions over time, color-coded by state
        │
   ├─────────────────────┼────────────────────────────────────────
   ────┼──────────────────────────────────────────┼───────────────
   ───────────────────────────────────────────────────────────────
   ─────┤
   │ ToolTouchesTile     │ OUT-FILE-3
       │ Table with tool icons                    │ Show which
   tools touched which files, action taken, success/failure,
   timestamp    │
   ├─────────────────────┼────────────────────────────────────────
   ────┼──────────────────────────────────────────┼───────────────
   ───────────────────────────────────────────────────────────────
   ─────┤
   │ QuarantineFilesTile │ OUT-FILE-1 (filtered by
   state=quarantined) │ Table with detail panel                  │
    List quarantined files, reason, quarantine folder, "Review"
   and "Restore" buttons │
   └─────────────────────┴────────────────────────────────────────
   ────┴──────────────────────────────────────────┴───────────────
   ───────────────────────────────────────────────────────────────
   ─────┘

   Generic Output Example

     {
       "file": {
         "file_id": "FILE-01JDKR8G9T4O2A1S9R0W8Z2D6Y",
         "current_path": "src/core/db.py",
         "origin_path": "src/core/db.py",
         "file_role": "code",
         "current_state": "committed",
         "workstream_id": "ws-01-hardcoded-path-index",
         "job_id": "JOB-01JDKR8F3Q2M9X7P5N6T4W8Z2V",
         "first_seen": "2025-11-26T18:10:00Z",
         "last_processed": "2025-11-26T18:28:45Z",
         "committed_sha": "a3f2b8c"
       },
       "state_history": [
         {"state": "discovered", "timestamp":
   "2025-11-26T18:10:00Z"},
         {"state": "classified", "timestamp":
   "2025-11-26T18:10:15Z"},
         {"state": "processing", "timestamp":
   "2025-11-26T18:25:30Z"},
         {"state": "committed", "timestamp":
   "2025-11-26T18:28:45Z"}
       ],
       "tool_touches": [
         {
           "tool_name": "aider",
           "action": "refactor",
           "status": "success",
           "timestamp": "2025-11-26T18:26:00Z"
         },
         {
           "tool_name": "ruff",
           "action": "lint",
           "status": "success",
           "timestamp": "2025-11-26T18:27:30Z"
         }
       ]
     }

   --------------------------------------------------------------

   Module: Cost Tracking

   Role: Tracks token usage and estimated costs for AI tool
   invocations (planned/inferred from schema).

   Outputs

   ┌────────────┬──────────┬──────────────────────────────────┬───
   ───────────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────────┐
   │ Output ID  │ Type     │ Source (file/DB/API)             │
   Key Fields / Schema (approx)
                                                          │
   ├────────────┼──────────┼──────────────────────────────────┼───
   ───────────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────────┤
   │ OUT-COST-1 │ db_table │ cost_tracking table (schema.sql) │
   id, run_id, workstream_id, step_id, worker_id, input_tokens,
   output_tokens, estimated_cost_usd, model_name, timestamp │
   ├────────────┼──────────┼──────────────────────────────────┼───
   ───────────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────────┤
   │ OUT-COST-2 │ api_json │ Cost query API (inferred)        │
   get_run_cost(), get_workstream_cost(), get_daily_cost()
                                                          │
   ├────────────┼──────────┼──────────────────────────────────┼───
   ───────────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────────┤
   │ OUT-COST-3 │ log_text │ Token usage logs (inferred)      │
   Per-invocation token counts, model name, cost calculation
                                                          │
   └────────────┴──────────┴──────────────────────────────────┴───
   ───────────────────────────────────────────────────────────────
   ─────────────────────────────────────────────────────┘

   Suggested Visuals (Tiles)

   ┌───────────────────┬────────────────────────┬─────────────────
   ──────┬────────────────────────────────────────────────────────
   ───────────────────────┐
   │ Tile Name         │ Uses Output IDs        │ Visual Type
         │ Description
                          │
   ├───────────────────┼────────────────────────┼─────────────────
   ──────┼────────────────────────────────────────────────────────
   ───────────────────────┤
   │ CostDashboardTile │ OUT-COST-1, OUT-COST-2 │ Multi-panel
   dashboard │ Total spend today, cost by workstream, cost by
   model, token usage trend chart │
   ├───────────────────┼────────────────────────┼─────────────────
   ──────┼────────────────────────────────────────────────────────
   ───────────────────────┤
   │ CostBreakdownTile │ OUT-COST-1             │ Treemap or bar
   chart  │ Show cost distribution by run, workstream, tool, model
                           │
   ├───────────────────┼────────────────────────┼─────────────────
   ──────┼────────────────────────────────────────────────────────
   ───────────────────────┤
   │ TokenUsageTile    │ OUT-COST-1             │ Dual-axis chart
         │ Input tokens vs output tokens over time, cost overlay
                          │
   └───────────────────┴────────────────────────┴─────────────────
   ──────┴────────────────────────────────────────────────────────
   ───────────────────────┘

   Note: This module appears to be planned/inferred based on
   schema.sql. Implementation may not yet exist.

   Generic Output Example

     {
       "daily_cost_summary": {
         "date": "2025-11-26",
         "total_cost_usd": 4.52,
         "total_input_tokens": 125000,
         "total_output_tokens": 78000,
         "invocations": 47
       },
       "cost_by_model": {
         "gpt-4o-mini-2024-07-18": {"cost": 3.20, "invocations":
   35},
         "claude-3.5-sonnet": {"cost": 1.32, "invocations": 12}
       },
       "top_workstreams_by_cost": [
         {"ws_id": "ws-16-refactor-core-orchestration",
   "cost_usd": 1.87},
         {"ws_id": "ws-03-refactor-meta-section", "cost_usd":
   0.95}
       ]
     }

   --------------------------------------------------------------

   Cross-Module Tile: Pipeline Radar

   Role: Global visualization aggregating run/workstream/job/error
   state across the entire pipeline.

   Outputs Used

     - OUT-STATE-1, OUT-STATE-2 (runs, workstreams)
     - OUT-QUEUE-1, OUT-QUEUE-3 (queue stats)
     - OUT-ERR-2, OUT-ERR-3 (error counts)
     - OUT-FILE-1 (file states)

   Visual Type

   Heatmap + Status Grid

     - Rows: Workstreams or Runs
     - Columns: States (Queued, Running, Completed, Failed,
   Quarantined)
     - Cell Color: Count of items in that state (green=0,
   yellow=1-5, red=6+)
     - Overlay: Error badges, retry indicators, time-in-state
   sparklines

   Generic Output Example

     Pipeline Radar – Run: run-20251126-182500

     ┌─────────────────────────────┬─────┬────────┬───────────┬───
   ─────┬─────────────┐
     │ Workstream                  │ Queue│ Running│ Completed │
   Failed │ Quarantined │
     ├─────────────────────────────┼─────┼────────┼───────────┼───
   ─────┼─────────────┤
     │ ws-01-hardcoded-path-index  │  0  │   0    │     ✓     │
   0    │      0      │
     │ ws-02-section-mapping       │  0  │   1    │     0     │
   0    │      0      │
     │ ws-03-refactor-meta         │  1  │   0    │     0     │
   0    │      0      │
     │ ws-04-refactor-gui          │  1  │   0    │     0     │
   1    │      2      │
     └─────────────────────────────┴─────┴────────┴───────────┴───
   ─────┴─────────────┘

     Global Stats:
       - Total Jobs: 47
       - Active: 3
       - Errors (last hour): 5
       - Quarantined Files: 2

   --------------------------------------------------------------

   Cross-Module Tile: System Health Monitor

   Role: Real-time health dashboard for tools, workers, queue, and
   engine components.

   Outputs Used

     - OUT-AIM-5 (tool_health_metrics)
     - OUT-QUEUE-2 (workers)
     - OUT-QUEUE-3 (queue stats)
     - OUT-ADAPT-3 (adapter metrics aggregated)

   Visual Type

   Status Cards Grid + Live Gauges

   Each card shows:

     - Tool/Worker name
     - Health status (green/yellow/red indicator)
     - Key metrics (success rate, latency, queue depth)
     - Last activity timestamp

   Generic Output Example

     System Health Monitor


   ┌─────────────────────────────────────────────────────────────┐
     │  TOOLS
    │

   ├─────────────────┬─────────┬────────────┬───────────────────┤
     │ Tool            │ Status  │ Success %  │ Last Active
   │

   ├─────────────────┼─────────┼────────────┼───────────────────┤
     │ Aider           │ 🟢      │    95.7    │ 2m ago
   │
     │ Ruff            │ 🟢      │    100.0   │ 30s ago
   │
     │ Mypy            │ 🟡      │    87.3    │ 15m ago (slow)
   │
     │ Semgrep         │ 🔴      │    45.0    │ 2h ago (failing)
   │

   └─────────────────┴─────────┴────────────┴───────────────────┘


   ┌─────────────────────────────────────────────────────────────┐
     │  WORKERS
    │

   ├─────────────────┬─────────┬────────────────────────────────┤
     │ Worker ID       │ State   │ Current Task
   │

   ├─────────────────┼─────────┼────────────────────────────────┤
     │ worker-001      │ BUSY    │ JOB-01JDKR8F... (aider)       │
     │ worker-002      │ IDLE    │ (waiting)                     │
     │ worker-003      │ BUSY    │ JOB-01JDKR9G... (tests)       │

   └─────────────────┴─────────┴────────────────────────────────┘

     Queue Depth: 12 jobs | Avg Wait Time: 45s

   --------------------------------------------------------------

   Summary Table: All Tiles

   ┌─────────────────────────┬───────────────────────────┬────────
   ───────────────┬────────────┬──────────┐
   │ Tile Name               │ Primary Module(s)         │ Visual
   Type           │ Complexity │ Priority │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ OrchestratorLogTile     │ Orchestrator              │ Text
   log viewer       │ Low        │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ActiveJobsTile          │ Orchestrator, State Store │ Table +
    badges        │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ JobHistoryTile          │ State Store               │ Table +
    sparkline     │ Medium     │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ QueueDashboardTile      │ Queue                     │
   Dashboard (charts)    │ High       │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ WorkerPoolTile          │ Queue                     │ Card
   grid             │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ RetryMonitorTile        │ Queue                     │ Table +
    progress bars │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ RunTimelineTile         │ State Store               │
   Gantt/timeline        │ High       │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ WorkstreamBoardTile     │ State Store               │ Kanban
   board          │ High       │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ JobStatusTile           │ State Store               │ Card
   grid             │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ EventLogTile            │ State Store               │
   Filterable log        │ Medium     │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ToolLogViewerTile       │ Adapters                  │ Tabbed
   log viewer     │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ AdapterMetricsTile      │ Adapters                  │ Charts
   + stats        │ Medium     │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ SidecarFilesTile        │ Adapters                  │ File
   tree + diff      │ High       │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ToolHealthTile          │ Adapters, AIM             │ Health
   cards          │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ErrorQuarantineTile     │ Error Pipeline            │ Table +
    badges        │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PluginActivityTile      │ Error Pipeline            │ Plugin
   grid           │ Medium     │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ErrorSignatureTile      │ Error Pipeline            │ Grouped
    table         │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ErrorTimelineTile       │ Error Pipeline            │
   Timeline chart        │ High       │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ AutoFixDashboardTile    │ Error Pipeline            │ Action
   cards          │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ToolRegistryTile        │ AIM                       │ Tree +
   detail pane    │ High       │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ToolHealthTile (AIM)    │ AIM                       │ Health
   dashboard      │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ TaskRoutingTile         │ AIM                       │ Flow
   diagram          │ High       │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ CapabilityMapTile       │ AIM                       │ Matrix
   view           │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PatternActivityTile     │ Patterns/UET              │
   Timeline + events     │ High       │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PatternMetricsTile      │ Patterns/UET              │
   Leaderboard + charts  │ Medium     │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PatternRunDetailTile    │ Patterns/UET              │ Tabbed
   detail panel   │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PatternSelectionLogTile │ Patterns/UET              │ Event
   log             │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PRDBoardTile            │ PM                        │ Card
   grid             │ Medium     │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ EpicTrackerTile         │ PM                        │
   Hierarchical list     │ Medium     │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ TaskKanbanTile          │ PM                        │ Kanban
   board          │ High       │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PMEventLogTile          │ PM                        │ Event
   log             │ Low        │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PlannerOutputTile       │ Planning                  │ JSON
   tree viewer      │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PlannerLogTile          │ Planning                  │ Log
   viewer            │ Low        │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ WorkstreamReviewTile    │ Planning                  │
   Editable form grid    │ High       │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ FileRadarTile           │ File Lifecycle            │ Pie
   chart + grid      │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ FileTimelineTile        │ File Lifecycle            │
   Timeline/swimlane     │ High       │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ ToolTouchesTile         │ File Lifecycle            │ Table +
    icons         │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ QuarantineFilesTile     │ File Lifecycle            │ Table +
    detail pane   │ Medium     │ High     │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ CostDashboardTile       │ Cost Tracking             │
   Multi-panel dashboard │ High       │ Medium   │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ CostBreakdownTile       │ Cost Tracking             │
   Treemap/bar chart     │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ TokenUsageTile          │ Cost Tracking             │
   Dual-axis chart       │ Medium     │ Low      │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ PipelineRadar           │ Cross-module              │ Heatmap
    + grid        │ High       │ Critical │
   ├─────────────────────────┼───────────────────────────┼────────
   ───────────────┼────────────┼──────────┤
   │ SystemHealthMonitor     │ Cross-module              │ Status
   cards + gauges │ High       │ Critical │
   └─────────────────────────┴───────────────────────────┴────────
   ───────────────┴────────────┴──────────┘

   --------------------------------------------------------------

   Implementation Recommendations

   Phase 1: Generic Output Tiles (MVP)

   Start with a single Generic Output Tile that can display:

     - Raw JSON (pretty-printed, collapsible)
     - Text logs (scrollable, filterable by level)
     - Simple tables (from DB query results)

   Wire each module's outputs to this generic viewer using a
   simple plugin manifest:

     {
       "tile_id": "generic-orchestrator",
       "data_source": "db_query",
       "query": "SELECT * FROM jobs ORDER BY started_at DESC LIMIT
    50",
       "format": "table"
     }

   Phase 2: Priority Custom Tiles

   Build custom visuals for highest-impact tiles:

     - PipelineRadar (Critical global overview)
     - SystemHealthMonitor (Critical for ops)
     - WorkstreamBoardTile (High user value)
     - ActiveJobsTile (High visibility)
     - ErrorQuarantineTile (High actionability)

   Phase 3: Advanced Interactivity

     - Add drill-down: click a workstream in PipelineRadar → open
   WorkstreamDetailTile
     - Add actions: "Retry" button in ErrorQuarantineTile → calls
   engine API
     - Add live updates: WebSocket/polling to refresh tiles
   without full reload

   Phase 4: Custom Tiles for Remaining Modules

   Progressively replace generic viewers with custom tiles based
   on user feedback and usage patterns.

   --------------------------------------------------------------

   End of Analysis

 > convert response to file, put here:"C:
     \Users\richg\ALL_AI\Complete AI Development Pipeline –
   Canonical
     Phase Plan"

 ✗ Create MODULE_OUTPUTS_AND_VISUALS_ANALYSIS.md
   Path already exists

 ✓ Read MODULE_OUTPUTS_AND_VISUALS_ANALYSIS.md:1-30 (35 lines)

 ● The file already exists. I'll replace it with the new
   comprehensive analysis.

 ✓ Delete existing file to replace with new analysis
   $ Remove-Item "C:\Users\richg\ALL_AI\Complete AI Development
   Pipeline – Canonical Phase
   Plan\MODULE_OUTPUTS_AND_VISUALS_ANALYSIS.md" -Force
   ↪ 1 line...
