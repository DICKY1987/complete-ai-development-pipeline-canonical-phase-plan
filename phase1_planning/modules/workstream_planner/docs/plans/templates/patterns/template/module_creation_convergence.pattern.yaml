doc_id: DOC-PAT-MODULE-CREATION-CONVERGENCE-PATTERN-100
# Pattern: Template Convergence - Module Creation
# Extracted from: 17 manifests case study (manifest #1 → #10 convergence)
# Proven uses: 17 (from case study)

pattern_id: "template_module_creation_v1"
category: "template_application"

description: "Converged template for module creation - 80% faster after learning"
use_case: "Use when creating new Python modules with standard structure"
time_savings: "80% (25 min → 5 min after template convergence)"

# Pre-made structural decisions
structural_decisions:
  tool_sequence: ["create", "create", "powershell"]
  proven_frequency: 17
  no_placeholders: true
  include_error_handling: true
  execution_mode: "template_application"
  template_converged: true
  convergence_point: 6  # Uses to reach stable template

# Template structure (learned from 17 iterations)
template_structure:
  always_create:
    - "src/${module_name}/__init__.py"
    - "src/${module_name}/${module_name}.py"
    - "tests/test_${module_name}.py"

  standard_sections:
    - "Module docstring"
    - "Imports"
    - "Public API (3-5 functions)"
    - "Helper functions (private)"
    - "Test suite (7-10 tests)"

  naming_conventions:
    - "snake_case for functions"
    - "PascalCase for classes"
    - "test_* for test functions"

# Convergence metrics (from case study)
convergence_data:
  iteration_1_time: 25  # minutes (full exploration)
  iteration_3_time: 18  # minutes (pattern emerging)
  iteration_6_time: 12  # minutes (template solidified)
  iteration_10_time: 5  # minutes (pure application)

  speedup_curve:
    - uses: 1, time: 25
    - uses: 3, time: 18
    - uses: 6, time: 12
    - uses: 10, time: 5

# Execution steps
execution_steps:
  1_create_module:
    tool: "create"
    file: "src/${module_name}/${module_name}.py"
    template: "module_implementation.template"
    fill_sections: true

  2_create_tests:
    tool: "create"
    file: "tests/test_${module_name}.py"
    template: "module_test_suite.template"
    test_count: 7

  3_verify:
    tool: "powershell"
    command: "python -m pytest tests/test_${module_name}.py"
    expect: "7 passed"

# Ground truth verification
ground_truth:
  success_criteria:
    - "Module created with standard structure"
    - "All 7+ tests pass"
    - "Execution time <= 5 minutes"
    - "Template applied without modifications"

# Template convergence metadata
convergence:
  uses_to_converge: 6
  improvement: 0.80  # 80% time reduction
  early_avg: 25.0
  recent_avg: 5.0

# Example usage
example:
  context:
    module_name: "error_detector"
    module_purpose: "Detect errors in patches"

  steps_executed:
    - "Apply module template"
    - "Fill module_name = error_detector"
    - "Generate 7 standard tests"
    - "Verify pytest"

  expected_duration: "5 minutes"
  expected_outcome:
    - "Module created"
    - "7 tests passing"
    - "Ready to use"

# Metadata
meta:
  created_at: "2025-11-23"
  version: "1.0.0"
  based_on: "17 manifests case study (WS-PATCH-LEDGER)"
  proven_uses: 17
  avg_duration_seconds: 300.0
  time_savings_percent: "80%"
