{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "end_to_end_validation",
  "description": "Run comprehensive validation suite to verify system works end-to-end\nafter making changes. Tests integration points, validates data, and\nconfirms functionality.\n\nThis pattern enforces:\n- Systematic validation checklist\n- Automated test execution\n- Clear pass/fail criteria\n- Detailed reporting\n",
  "type": "object",
  "properties": {
    "validation_name": {
      "type": "string",
      "required": true,
      "description": "Name of validation suite",
      "example": "pattern_automation_activation"
    },
    "validation_type": {
      "type": "string",
      "required": true,
      "enum": [
        "integration",
        "smoke",
        "regression",
        "activation"
      ],
      "default": "integration"
    },
    "test_script_path": {
      "type": "string",
      "required": true,
      "description": "Path where validation script will be created",
      "example": "automation/tests/test_activation.ps1"
    },
    "checks": {
      "type": "array",
      "required": true,
      "description": "List of validation checks to perform",
      "items": {
        "type": "object",
        "required": [
          "name",
          "command"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Check name",
            "example": "Database tables exist"
          },
          "command": {
            "type": "string",
            "description": "PowerShell/Bash command to run",
            "example": "Test-Path database.db"
          },
          "expect": {
            "type": "string",
            "description": "Expected output or condition",
            "example": "True"
          },
          "critical": {
            "type": "boolean",
            "default": true,
            "description": "Whether failure blocks continuation"
          },
          "setup": {
            "type": "string",
            "description": "Optional setup command before check"
          },
          "cleanup": {
            "type": "string",
            "description": "Optional cleanup after check"
          }
        }
      }
    },
    "demo_script_path": {
      "type": "string",
      "required": false,
      "description": "Optional demo script to create",
      "example": "automation/tests/demo_pattern_detection.ps1"
    },
    "demo_scenario": {
      "type": "object",
      "required": false,
      "description": "Demo scenario to validate",
      "properties": {
        "description": {
          "type": "string"
        },
        "steps": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "expected_outcome": {
          "type": "string"
        }
      }
    },
    "report_path": {
      "type": "string",
      "required": true,
      "description": "Path for validation report",
      "example": "VALIDATION_REPORT_{{timestamp}}.md"
    }
  },
  "required": [
    "validation_name",
    "validation_type",
    "test_script_path",
    "checks",
    "report_path"
  ]
}