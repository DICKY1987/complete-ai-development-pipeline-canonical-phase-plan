{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "worktree_lifecycle",
  "description": "Manage git worktree lifecycle: create, configure, and teardown.\nEnforces consistent worktree structure and naming conventions.\n\nOperations:\n- Create new worktree from branch\n- Configure worktree environment\n- Execute work in worktree\n- Clean up and remove worktree\n",
  "type": "object",
  "properties": {
    "repository_root": {
      "type": "string",
      "required": true
    },
    "operation": {
      "type": "string",
      "required": true,
      "enum": [
        "create",
        "execute",
        "cleanup",
        "full_lifecycle"
      ]
    },
    "branch_name": {
      "type": "string",
      "required": true,
      "description": "Branch to create worktree from"
    },
    "worktree_name": {
      "type": "string",
      "required": false,
      "description": "Custom worktree name (default: wt-{branch})"
    },
    "commands_to_execute": {
      "type": "array",
      "required": false,
      "description": "Commands to run in worktree context",
      "items": {
        "type": "string"
      }
    },
    "cleanup_after_execution": {
      "type": "boolean",
      "default": true
    }
  },
  "required": [
    "repository_root",
    "operation",
    "branch_name"
  ]
}