[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output configuration
addopts = 
    --tb=short
    -v
    --strict-markers

# Directory exclusions
norecursedirs = 
    .git
    .worktrees
    .state
    .venv
    __pycache__
    .pytest_cache
    htmlcov
    .tox
    dist
    build

# Test markers
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    bootstrap: bootstrap-related tests
    engine: engine-related tests
    adapter: adapter-related tests
    resilience: resilience-related tests

# Coverage configuration (optional - enabled separately)
# To enable: pytest --cov=core --cov=error --cov=aim --cov=pm
# Or add to addopts above

# Warnings
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning

# Timeout (if pytest-timeout installed)
# timeout = 300
# timeout_method = thread
