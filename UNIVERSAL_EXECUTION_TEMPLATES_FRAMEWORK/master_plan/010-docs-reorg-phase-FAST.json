[
  {
    "op": "add",
    "path": "/meta/patch_metadata/010-fast",
    "value": {
      "patch_id": "010-docs-reorg-fast",
      "patch_ulid": "01JDK9YZ456PATCH010DOCSFAST",
      "created_at": "2025-11-23T17:48:00.000Z",
      "description": "Fast-tracked documentation reorganization using parallelism, worktrees, and CLI workers per UET_EXECUTION_KERNEL_PARALLELISM_STRATEGY_SPEC_V2",
      "source_files": [
        "DOCS_ORGANIZATION_SPEC_v1.0.md",
        "UET_EXECUTION_KERNEL_PARALLELISM_STRATEGY_SPEC_V2.md",
        "UET_LI Tool Execution Specification.txt",
        "PH_04.5 – Git Worktree Lifecycle Management.md"
      ],
      "operations_count": 26,
      "priority": "HIGH",
      "approved_by": "human",
      "applied": false,
      "optimization_notes": "Reduced from 48 to 26 operations using: parallel tool creation, worktree isolation, round-robin CLI worker distribution, batch validation"
    }
  },
  {
    "op": "add",
    "path": "/phases/PH-010-FAST",
    "value": {
      "phase_id": "PH-010-FAST",
      "phase_ulid": "01JDK9YZ456PH010DOCSFAST01",
      "name": "Documentation Reorganization (Fast)",
      "category": "documentation",
      "description": "Accelerated DOC-ORG-SPEC implementation using parallelism kernel, worktree isolation, and multi-worker execution",
      "priority": "HIGH",
      "status": "ready",
      "estimated_duration_hours": 3,
      "dependencies": [],
      "spec_id": "DOC-ORG-SPEC-v1.0",
      "execution_strategy": {
        "parallelism_enabled": true,
        "max_parallel_workers": 4,
        "worker_distribution": "round_robin_by_workstream",
        "conflict_resolution": "worktree_isolation",
        "merge_strategy": "sequential_validation"
      },
      "resource_scope": {
        "type": "files",
        "read": [
          "**/*.md",
          "**/*.txt",
          "!.git/**",
          "!.state/**",
          "!.worktrees/**",
          "!.cache/**"
        ],
        "write": [
          ".state/docs/**"
        ],
        "create": [
          "docs/**",
          "tools/doc_*.py",
          ".docs_ignore",
          ".worktrees/ws-*/**"
        ],
        "forbidden": [
          "legacy/**",
          "src/pipeline/**",
          "MOD_ERROR_PIPELINE/**"
        ]
      },
      "constraints": {
        "patch": {
          "patch_required": false,
          "max_lines_changed": 10000,
          "max_files_changed": 500
        },
        "tests": {
          "tests_must_run": true,
          "tests_must_pass": true,
          "test_command": "python tools/validate_doc_org.py && pytest tests/tools/test_doc_tools.py -q"
        },
        "behavior": {
          "git_mv_required": true,
          "dry_run_first": true,
          "worktree_isolation": true,
          "atomic_commits_per_workstream": true
        }
      },
      "acceptance": {
        "mode": "all",
        "checks": [
          {
            "id": "ac-010-fast-001",
            "type": "file_exists",
            "description": "All worktrees created and clean",
            "command": "git worktree list | grep -c 'ws-010-'",
            "required": true,
            "severity": "critical"
          },
          {
            "id": "ac-010-fast-002",
            "type": "validation",
            "description": "Inventory and plan schemas valid",
            "command": "python tools/validate_doc_org.py --file .state/docs/doc_inventory.jsonl --schema inventory && python tools/validate_doc_org.py --file .state/docs/doc_move_plan.jsonl --schema move_plan",
            "required": true,
            "severity": "critical"
          },
          {
            "id": "ac-010-fast-003",
            "type": "validation",
            "description": "All tools pass smoke tests",
            "command": "pytest tests/tools/test_doc_tools.py -q",
            "required": true,
            "severity": "critical"
          },
          {
            "id": "ac-010-fast-004",
            "type": "validation",
            "description": "No orphaned docs remain",
            "command": "python tools/check_doc_orphans.py --strict",
            "required": true,
            "severity": "warning"
          }
        ],
        "post_actions": [
          "git worktree remove .worktrees/ws-010-spec",
          "git worktree remove .worktrees/ws-010-tools",
          "git worktree remove .worktrees/ws-010-exec",
          "git add .state/docs/ docs/ tools/ specs/",
          "git commit -m 'PH-010-FAST: Documentation reorganization (parallel execution)'"
        ]
      },
      "workstreams": {}
    }
  },
  {
    "op": "add",
    "path": "/phases/PH-010-FAST/workstreams/WS-010-FAST-SPEC",
    "value": {
      "workstream_id": "WS-010-FAST-SPEC",
      "workstream_ulid": "01JDK9YZ456WS010FASTSPEC01",
      "project_id": "PRJ-COMPLETE_AI_DEVELOPMENT_PIPELINE",
      "phase_id": "PH-010-FAST",
      "name": "Spec Updates (Parallel)",
      "objective": "Update DOC-ORG spec with P0/P1 recommendations in isolated worktree",
      "tags": ["spec", "documentation", "parallel"],
      "execution": {
        "worktree": {
          "enabled": true,
          "path": ".worktrees/ws-010-spec",
          "branch": "ws/PH-010-FAST/spec-updates",
          "base_branch": "main"
        },
        "worker_affinity": "cli_worker_1",
        "conflict_group": "spec_editing",
        "allow_parallel": true
      },
      "concurrency": {
        "max_parallel": 1
      },
      "error_handling": {
        "strategy": "fail_fast"
      },
      "tasks": [
        {
          "task_id": "t-010-fast-spec-001",
          "name": "Batch update spec: All P0/P1 changes",
          "kind": "file_edit",
          "allow_parallel": false,
          "classification": {
            "complexity": "moderate",
            "risk_tier": "low",
            "domain": "documentation",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 2,
            "timeout_seconds": 300
          },
          "prompt_template_ref": "batch_edit_spec",
          "prompt_overrides": {
            "instructions": "Apply ALL spec updates in single edit: (1) .ai/ → .state/docs/, (2) Add UET Workstream example section DOC-ORG-070, (3) Split dev → planning/scratch in DOC-ORG-010/011, (4) Add Git conflict resolution DOC-ORG-042a, (5) Add .docs_ignore format DOC-ORG-021a, (6) Add Quality Gate integration DOC-ORG-050a. Create .docs_ignore file inline."
          },
          "files_scope": {
            "reads": ["DOCS_ORGANIZATION_SPEC_v1.0.md"],
            "writes": ["DOCS_ORGANIZATION_SPEC_v1.0.md", ".docs_ignore"],
            "creates": [".docs_ignore"]
          }
        },
        {
          "task_id": "t-010-fast-spec-002",
          "name": "Move spec to specs/ and commit",
          "kind": "git_operation",
          "depends_on": ["t-010-fast-spec-001"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "version_control",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 30
          },
          "execution_request_template": {
            "tool": "git",
            "action": "mv_and_commit",
            "params": {
              "source": "DOCS_ORGANIZATION_SPEC_v1.0.md",
              "destination": "specs/DOCS_ORGANIZATION_SPEC.v1.0.md",
              "commit_message": "WS-010-FAST-SPEC: Update and relocate DOC-ORG spec"
            }
          }
        }
      ]
    }
  },
  {
    "op": "add",
    "path": "/phases/PH-010-FAST/workstreams/WS-010-FAST-TOOLS",
    "value": {
      "workstream_id": "WS-010-FAST-TOOLS",
      "workstream_ulid": "01JDK9YZ456WS010FASTTOOLS1",
      "project_id": "PRJ-COMPLETE_AI_DEVELOPMENT_PIPELINE",
      "phase_id": "PH-010-FAST",
      "name": "Tool Development (Parallel)",
      "objective": "Build all 4 tools + tests in parallel using multiple CLI workers",
      "tags": ["tooling", "python", "parallel"],
      "execution": {
        "worktree": {
          "enabled": true,
          "path": ".worktrees/ws-010-tools",
          "branch": "ws/PH-010-FAST/tools",
          "base_branch": "main"
        },
        "worker_affinity": "cli_worker_2",
        "conflict_group": "tools_development",
        "allow_parallel": true
      },
      "concurrency": {
        "max_parallel": 4
      },
      "error_handling": {
        "strategy": "continue"
      },
      "tasks": [
        {
          "task_id": "t-010-fast-tools-001",
          "name": "Create doc_inventory.py",
          "kind": "code_create",
          "allow_parallel": true,
          "classification": {
            "complexity": "moderate",
            "risk_tier": "low",
            "domain": "tooling",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 2,
            "timeout_seconds": 180
          },
          "prompt_template_ref": "create_python_tool",
          "prompt_overrides": {
            "requirements": "Implement DOC-ORG-020-024: recursive walk, glob *.md/*.txt, respect .docs_ignore, capture path/name/preview(600), write .state/docs/doc_inventory.jsonl. Argparse CLI: --output, --preview-chars, --config. Pathlib + UTF-8 errors=ignore."
          },
          "files_scope": {
            "creates": ["tools/doc_inventory.py"]
          }
        },
        {
          "task_id": "t-010-fast-tools-002",
          "name": "Create validate_doc_org.py",
          "kind": "code_create",
          "allow_parallel": true,
          "classification": {
            "complexity": "moderate",
            "risk_tier": "low",
            "domain": "tooling",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 2,
            "timeout_seconds": 180
          },
          "prompt_template_ref": "create_python_tool",
          "prompt_overrides": {
            "requirements": "Implement DOC-ORG-CHK-001-006: validate inventory.jsonl/move_plan.jsonl against schemas, check categories/target_dirs/no-unknown-moves. Jsonschema library. CLI: --file, --schema, --check-*. Exit 0 on pass."
          },
          "files_scope": {
            "creates": ["tools/validate_doc_org.py"]
          }
        },
        {
          "task_id": "t-010-fast-tools-003",
          "name": "Create apply_doc_move_plan.py",
          "kind": "code_create",
          "allow_parallel": true,
          "classification": {
            "complexity": "complex",
            "risk_tier": "medium",
            "domain": "tooling",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 2,
            "timeout_seconds": 240
          },
          "prompt_template_ref": "create_python_tool",
          "prompt_overrides": {
            "requirements": "Implement DOC-ORG-040-043a: read move_plan.jsonl, validate, build moves list. --dry-run (default, print only) + --apply. Create dirs, use git mv. Conflict handling: check git status, abort on modified, log to .state/docs/move_conflicts.jsonl. Summary report."
          },
          "files_scope": {
            "creates": ["tools/apply_doc_move_plan.py"]
          }
        },
        {
          "task_id": "t-010-fast-tools-004",
          "name": "Create check_doc_orphans.py",
          "kind": "code_create",
          "allow_parallel": true,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "tooling",
            "priority": "P1"
          },
          "execution": {
            "max_attempts": 2,
            "timeout_seconds": 120
          },
          "prompt_template_ref": "create_python_tool",
          "prompt_overrides": {
            "requirements": "Find *.md/*.txt NOT in docs/spec|planning|scratch|runtime|archive|ai. Respect .docs_ignore. Report orphans. CLI: --report-only (warn), --strict (error). Exit 0 if none, 1 if found."
          },
          "files_scope": {
            "creates": ["tools/check_doc_orphans.py"]
          }
        },
        {
          "task_id": "t-010-fast-tools-005",
          "name": "Create comprehensive tool tests",
          "kind": "test_create",
          "depends_on": ["t-010-fast-tools-001", "t-010-fast-tools-002", "t-010-fast-tools-003", "t-010-fast-tools-004"],
          "allow_parallel": false,
          "classification": {
            "complexity": "moderate",
            "risk_tier": "low",
            "domain": "testing",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 2,
            "timeout_seconds": 240
          },
          "prompt_template_ref": "create_pytest_suite",
          "prompt_overrides": {
            "requirements": "tests/tools/test_doc_tools.py: smoke tests for all 4 tools. Use tmp_path. Test: inventory gen, schema validation, dry-run safety, apply with dirs, conflict detection, orphan finding. Pytest fixtures for temp files/dirs."
          },
          "files_scope": {
            "creates": ["tests/tools/test_doc_tools.py"]
          }
        }
      ]
    }
  },
  {
    "op": "add",
    "path": "/phases/PH-010-FAST/workstreams/WS-010-FAST-EXEC",
    "value": {
      "workstream_id": "WS-010-FAST-EXEC",
      "workstream_ulid": "01JDK9YZ456WS010FASTEXEC01",
      "project_id": "PRJ-COMPLETE_AI_DEVELOPMENT_PIPELINE",
      "phase_id": "PH-010-FAST",
      "name": "Inventory → Classify → Apply (Sequential Pipeline)",
      "objective": "Execute doc reorg pipeline with AI classification and human approval gate",
      "tags": ["execution", "ai", "pipeline"],
      "execution": {
        "worktree": {
          "enabled": true,
          "path": ".worktrees/ws-010-exec",
          "branch": "ws/PH-010-FAST/execution",
          "base_branch": "main"
        },
        "worker_affinity": "cli_worker_3",
        "conflict_group": "execution_pipeline",
        "allow_parallel": false
      },
      "concurrency": {
        "max_parallel": 1
      },
      "error_handling": {
        "strategy": "fail_fast"
      },
      "dependencies": {
        "workstreams": ["WS-010-FAST-TOOLS"],
        "reason": "Tools must exist before execution"
      },
      "tasks": [
        {
          "task_id": "t-010-fast-exec-001",
          "name": "Generate inventory",
          "kind": "script_execution",
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "documentation",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 2,
            "timeout_seconds": 120
          },
          "execution_request_template": {
            "tool": "python",
            "action": "run",
            "params": {
              "script": "tools/doc_inventory.py",
              "args": ["--output", ".state/docs/doc_inventory.jsonl"]
            }
          },
          "files_scope": {
            "reads": ["**/*.md", "**/*.txt"],
            "creates": [".state/docs/doc_inventory.jsonl"]
          }
        },
        {
          "task_id": "t-010-fast-exec-002",
          "name": "AI classification (batch)",
          "kind": "ai_task",
          "depends_on": ["t-010-fast-exec-001"],
          "allow_parallel": false,
          "classification": {
            "complexity": "complex",
            "risk_tier": "medium",
            "domain": "ai",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 3,
            "timeout_seconds": 600,
            "context_optimization": {
              "max_input_tokens": 128000,
              "chunking_strategy": "batch_50_files",
              "summary_mode": "compact"
            }
          },
          "prompt_template_ref": "classify_docs_batch",
          "prompt_overrides": {
            "system_prompt": "Classify docs per DOC-ORG-SPEC: spec/planning/scratch/runtime/archive/ai/unknown. Be conservative.",
            "batch_processing": true,
            "output_schema": "DOC-ORG-033-SCHEMA"
          },
          "execution_request_template": {
            "tool": "llm",
            "action": "structured_batch_output",
            "params": {
              "model": "gpt-4-turbo",
              "input_file": ".state/docs/doc_inventory.jsonl",
              "output_file": ".state/docs/doc_move_plan.jsonl",
              "format": "jsonl"
            }
          },
          "files_scope": {
            "reads": [".state/docs/doc_inventory.jsonl", "specs/DOCS_ORGANIZATION_SPEC.v1.0.md"],
            "creates": [".state/docs/doc_move_plan.jsonl"]
          }
        },
        {
          "task_id": "t-010-fast-exec-003",
          "name": "Validate plan and dry-run",
          "kind": "validation",
          "depends_on": ["t-010-fast-exec-002"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "validation",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 60
          },
          "execution_request_template": {
            "tool": "bash",
            "action": "chain",
            "params": {
              "commands": [
                "python tools/validate_doc_org.py --file .state/docs/doc_move_plan.jsonl --schema move_plan",
                "python tools/validate_doc_org.py --check-categories --check-unknown-moves --check-target-dirs",
                "python tools/apply_doc_move_plan.py --plan .state/docs/doc_move_plan.jsonl --dry-run"
              ]
            }
          }
        },
        {
          "task_id": "t-010-fast-exec-004",
          "name": "Human approval gate",
          "kind": "human_approval",
          "depends_on": ["t-010-fast-exec-003"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "critical",
            "domain": "governance",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 3600,
            "interaction_mode": "async_notification"
          },
          "prompt_template_ref": "approval_request",
          "prompt_overrides": {
            "summary": "Review .state/docs/doc_move_plan.jsonl dry-run output. Approve to proceed with file moves.",
            "approval_options": ["approve", "reject", "modify_plan"]
          }
        },
        {
          "task_id": "t-010-fast-exec-005",
          "name": "Apply moves",
          "kind": "script_execution",
          "depends_on": ["t-010-fast-exec-004"],
          "allow_parallel": false,
          "classification": {
            "complexity": "moderate",
            "risk_tier": "high",
            "domain": "filesystem",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 300
          },
          "execution_request_template": {
            "tool": "python",
            "action": "run",
            "params": {
              "script": "tools/apply_doc_move_plan.py",
              "args": ["--plan", ".state/docs/doc_move_plan.jsonl", "--apply"]
            }
          },
          "files_scope": {
            "reads": [".state/docs/doc_move_plan.jsonl"],
            "writes": ["docs/**/*.md", "docs/**/*.txt"],
            "creates": ["docs/spec/**", "docs/planning/**", "docs/scratch/**"]
          }
        },
        {
          "task_id": "t-010-fast-exec-006",
          "name": "Post-apply validation",
          "kind": "validation",
          "depends_on": ["t-010-fast-exec-005"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "validation",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 60
          },
          "execution_request_template": {
            "tool": "bash",
            "action": "chain",
            "params": {
              "commands": [
                "python tools/check_doc_orphans.py --report-only",
                "git status --porcelain | wc -l"
              ]
            }
          }
        }
      ]
    }
  },
  {
    "op": "add",
    "path": "/phases/PH-010-FAST/workstreams/WS-010-FAST-INTEGRATE",
    "value": {
      "workstream_id": "WS-010-FAST-INTEGRATE",
      "workstream_ulid": "01JDK9YZ456WS010FASTINT001",
      "project_id": "PRJ-COMPLETE_AI_DEVELOPMENT_PIPELINE",
      "phase_id": "PH-010-FAST",
      "name": "Integration & Quality Gates",
      "objective": "Merge all worktree branches, update quality gates, run final validation",
      "tags": ["integration", "quality", "merge"],
      "execution": {
        "worktree": {
          "enabled": false,
          "comment": "Integration happens in main worktree"
        },
        "worker_affinity": "cli_worker_4",
        "conflict_group": "integration",
        "allow_parallel": false
      },
      "dependencies": {
        "workstreams": ["WS-010-FAST-SPEC", "WS-010-FAST-TOOLS", "WS-010-FAST-EXEC"],
        "mode": "all",
        "reason": "All workstreams must complete before integration"
      },
      "concurrency": {
        "max_parallel": 1
      },
      "error_handling": {
        "strategy": "fail_fast_with_rollback"
      },
      "tasks": [
        {
          "task_id": "t-010-fast-int-001",
          "name": "Merge spec worktree",
          "kind": "git_operation",
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "medium",
            "domain": "version_control",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 60
          },
          "execution_request_template": {
            "tool": "git",
            "action": "merge_worktree",
            "params": {
              "worktree_path": ".worktrees/ws-010-spec",
              "branch": "ws/PH-010-FAST/spec-updates",
              "target_branch": "main",
              "strategy": "fast_forward_only",
              "run_tests_before_merge": false
            }
          }
        },
        {
          "task_id": "t-010-fast-int-002",
          "name": "Merge tools worktree",
          "kind": "git_operation",
          "depends_on": ["t-010-fast-int-001"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "medium",
            "domain": "version_control",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 60
          },
          "execution_request_template": {
            "tool": "git",
            "action": "merge_worktree",
            "params": {
              "worktree_path": ".worktrees/ws-010-tools",
              "branch": "ws/PH-010-FAST/tools",
              "target_branch": "main",
              "strategy": "merge_commit",
              "run_tests_before_merge": true,
              "test_command": "pytest tests/tools/test_doc_tools.py -q"
            }
          }
        },
        {
          "task_id": "t-010-fast-int-003",
          "name": "Merge execution worktree",
          "kind": "git_operation",
          "depends_on": ["t-010-fast-int-002"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "high",
            "domain": "version_control",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 60
          },
          "execution_request_template": {
            "tool": "git",
            "action": "merge_worktree",
            "params": {
              "worktree_path": ".worktrees/ws-010-exec",
              "branch": "ws/PH-010-FAST/execution",
              "target_branch": "main",
              "strategy": "merge_commit",
              "run_tests_before_merge": false
            }
          }
        },
        {
          "task_id": "t-010-fast-int-004",
          "name": "Update QUALITY_GATE.yaml",
          "kind": "file_edit",
          "depends_on": ["t-010-fast-int-003"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "configuration",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 60
          },
          "prompt_template_ref": "edit_yaml_config",
          "prompt_overrides": {
            "instructions": "Add to QUALITY_GATE.yaml: qc-docs-org-inventory-valid, qc-docs-org-plan-valid, qc-docs-org-no-orphans per DOC-ORG-050a."
          },
          "files_scope": {
            "writes": ["QUALITY_GATE.yaml"]
          }
        },
        {
          "task_id": "t-010-fast-int-005",
          "name": "Run full quality gate suite",
          "kind": "validation",
          "depends_on": ["t-010-fast-int-004"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "validation",
            "priority": "P0"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 120
          },
          "execution_request_template": {
            "tool": "bash",
            "action": "chain",
            "params": {
              "commands": [
                "python tools/validate_doc_org.py --file .state/docs/doc_inventory.jsonl --schema inventory",
                "python tools/validate_doc_org.py --file .state/docs/doc_move_plan.jsonl --schema move_plan",
                "python tools/check_doc_orphans.py --strict",
                "pytest tests/tools/test_doc_tools.py -q"
              ]
            }
          }
        },
        {
          "task_id": "t-010-fast-int-006",
          "name": "Cleanup worktrees",
          "kind": "git_operation",
          "depends_on": ["t-010-fast-int-005"],
          "allow_parallel": false,
          "classification": {
            "complexity": "simple",
            "risk_tier": "low",
            "domain": "version_control",
            "priority": "P1"
          },
          "execution": {
            "max_attempts": 1,
            "timeout_seconds": 30
          },
          "execution_request_template": {
            "tool": "bash",
            "action": "chain",
            "params": {
              "commands": [
                "git worktree remove .worktrees/ws-010-spec",
                "git worktree remove .worktrees/ws-010-tools",
                "git worktree remove .worktrees/ws-010-exec"
              ]
            }
          }
        }
      ]
    }
  },
  {
    "op": "add",
    "path": "/meta/execution_metrics",
    "value": {
      "original_plan": {
        "total_tasks": 48,
        "workstreams": 6,
        "estimated_duration_hours": 12,
        "parallelism": "minimal"
      },
      "fast_plan": {
        "total_tasks": 26,
        "workstreams": 4,
        "estimated_duration_hours": 3,
        "parallelism": "aggressive"
      },
      "optimizations": [
        "Batch spec edits: 8 tasks → 2 tasks (75% reduction)",
        "Parallel tool creation: 5 sequential → 4 parallel + 1 sequential (60% time reduction)",
        "Worktree isolation: eliminates merge conflicts, enables true parallelism",
        "Round-robin worker distribution: maximizes CLI instance utilization",
        "Batch validation: 7 separate commands → 3 chained commands",
        "Removed inventory workstream: merged into execution pipeline (3 tasks saved)",
        "Sequential integration: deterministic merge with test gates"
      ],
      "speedup_factor": 4,
      "resource_efficiency": {
        "max_parallel_workers": 4,
        "worker_utilization": "85-95%",
        "context_switching_overhead": "minimal (worktree isolation)"
      }
    }
  }
]
