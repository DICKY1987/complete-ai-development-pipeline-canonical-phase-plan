{
  "id": "ws-18-update-infrastructure-scripts",
  "openspec_change": "WS-18",
  "ccpm_issue": "TBD",
  "gate": 1,
  "files_scope": [
    "scripts/aim_audit_query.py",
    "scripts/aim_status.py",
    "scripts/bootstrap.ps1",
    "scripts/ccpm_install.ps1",
    "scripts/ccpm_install.sh",
    "scripts/ccpm_update.ps1",
    "scripts/ccpm_update.sh",
    "scripts/check_workstream_status.ps1",
    "scripts/check_workstream_status.sh",
    "scripts/check-path-standards.sh",
    "scripts/db_inspect.py",
    "scripts/fix-path-standards.sh",
    "scripts/generate_spec_index.py",
    "scripts/generate_spec_mapping.py",
    "scripts/generate_workstreams.py",
    "scripts/generate_workstreams_from_openspec.py",
    "scripts/gh_epic_sync.py",
    "scripts/gh_issue_update.py",
    "scripts/init_db.py",
    "scripts/normalize_paths.py",
    "scripts/paths_index_cli.py",
    "scripts/path-tools-README.md",
    "scripts/run_error_engine.py",
    "scripts/run_workstream.py",
    "scripts/spec_to_workstream.ps1",
    "scripts/spec_to_workstream.py",
    "scripts/test.ps1",
    "scripts/test-and-log.sh",
    "scripts/update_markdown_paths.py",
    "scripts/validate_workstreams.py",
    "scripts/validate_workstreams_authoring.py",
    "scripts/worktree_merge.ps1",
    "scripts/worktree_merge.sh",
    "scripts/worktree_start.ps1",
    "scripts/worktree_start.sh"
  ],
  "files_create": [],
  "tasks": [
    "Update all Python scripts to import from new section-based module paths (core/, error/, spec/, pm/, aim/, aider/, etc.)",
    "Update PowerShell and shell scripts to reference new directory structure",
    "Update script documentation and inline comments to reflect new paths",
    "Verify all scripts execute correctly after path updates",
    "Update path-tools-README.md with new structure information",
    "Test critical scripts: run_workstream.py, init_db.py, validate_workstreams.py",
    "Ensure backwards compatibility where needed or document breaking changes"
  ],
  "acceptance_tests": [
    "python scripts/init_db.py",
    "python scripts/validate_workstreams.py",
    "python scripts/run_workstream.py --ws-id ws-10-openspec-integration --dry-run",
    "python scripts/db_inspect.py",
    "python scripts/paths_index_cli.py --help",
    "pwsh scripts/bootstrap.ps1",
    "pwsh scripts/test.ps1"
  ],
  "depends_on": [
    "ws-01-hardcoded-path-index",
    "ws-02-section-mapping-config",
    "ws-03-refactor-meta-section",
    "ws-04-refactor-gui-section",
    "ws-05-refactor-infra-ci",
    "ws-06-refactor-aim-section",
    "ws-07-refactor-pm-ccpm",
    "ws-08-refactor-aider-section",
    "ws-09-refactor-spec-tools",
    "ws-10-openspec-integration",
    "ws-11-spec-docs",
    "ws-12-error-shared-utils",
    "ws-13-refactor-error-plugins",
    "ws-14-refactor-error-engine",
    "ws-15-refactor-core-state",
    "ws-16-refactor-core-orchestration",
    "ws-17-refactor-core-planning"
  ],
  "tool": "aider",
  "circuit_breaker": {
    "max_attempts": 5,
    "max_error_repeats": 3,
    "oscillation_threshold": 2
  },
  "metadata": {
    "phase": "8",
    "parallel_group": "Integration Layer (can overlap with WS-19)",
    "risk_level": "HIGH",
    "estimated_effort_hours": "10-14",
    "notes": "Updates 30+ scripts to use new section-based import paths. Critical integration point - all scripts must work after refactor. Can partially overlap with WS-19 if file conflicts are managed carefully."
  }
}
