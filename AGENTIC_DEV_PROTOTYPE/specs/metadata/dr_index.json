{
  "document_id": "DEV_RULES_V1",
  "document_title": "Development Rules v1.0 - DO's and DON'Ts",
  "version": "1.0.0",
  "last_updated": "2025-11-20",
  "total_sections": 19,
  "do_rules_count": 8,
  "dont_rules_count": 6,
  "golden_workflow_sections": 2,
  "sections": [
    {
      "section_id": "DR-001",
      "title": "Overview",
      "level": 2,
      "line_start": 11,
      "summary": "Mandatory practices and forbidden anti-patterns for AI-driven development",
      "keywords": ["overview", "enforcement", "guard_rules", "validation"]
    },
    {
      "section_id": "DR-DO-001",
      "category": "DO",
      "title": "Ground Truth Over Vibes",
      "level": 2,
      "line_start": 23,
      "summary": "Base decisions on observable CLI output, never assumptions",
      "keywords": ["verification", "cli", "observable", "truth"],
      "subsections": [
        {"id": "DR-DO-001-1", "title": "Always Verify with CLI Commands", "keywords": ["cli", "verification", "commands"]},
        {"id": "DR-DO-001-2", "title": "Observable Outputs Only", "keywords": ["observable", "outputs", "no_assumptions"]}
      ]
    },
    {
      "section_id": "DR-DO-002",
      "category": "DO",
      "title": "Atomic Execution & Small Phases",
      "level": 2,
      "line_start": 54,
      "summary": "Break work into small, verifiable, independently testable phases",
      "keywords": ["atomic", "small_phases", "verifiable", "minimal_diffs"],
      "subsections": [
        {"id": "DR-DO-002-1", "title": "Phase Atomicity", "keywords": ["atomicity", "small", "1-3_modules"]},
        {"id": "DR-DO-002-2", "title": "Sequential Completion", "keywords": ["sequential", "complete_before_next"]}
      ]
    },
    {
      "section_id": "DR-DO-003",
      "category": "DO",
      "title": "Mandatory Phase Structure",
      "level": 2,
      "line_start": 84,
      "summary": "Every phase must follow universal structure specification",
      "keywords": ["structure", "required_fields", "validation"],
      "subsections": [
        {"id": "DR-DO-003-1", "title": "Required Fields", "keywords": ["fields", "phase_id", "workstream", "file_scope"]},
        {"id": "DR-DO-003-2", "title": "Validation Requirements", "keywords": ["validation", "compliance"]}
      ]
    },
    {
      "section_id": "DR-DO-004",
      "category": "DO",
      "title": "Self-Healing Execution",
      "level": 2,
      "line_start": 105,
      "summary": "Autonomously detect and repair environment issues",
      "keywords": ["self-healing", "autonomous", "repair", "retry"],
      "subsections": [
        {"id": "DR-DO-004-1", "title": "Self-Healing Loop", "keywords": ["loop", "run_inspect_fix_verify"]},
        {"id": "DR-DO-004-2", "title": "Autonomous Repair", "keywords": ["repair", "autonomous", "no_permission"]}
      ]
    },
    {
      "section_id": "DR-DO-005",
      "category": "DO",
      "title": "Worktree & Patch Isolation",
      "level": 2,
      "line_start": 145,
      "summary": "Isolated worktrees with patch-based change tracking",
      "keywords": ["worktree", "isolation", "patches", "scope"],
      "subsections": [
        {"id": "DR-DO-005-1", "title": "Worktree Isolation", "keywords": ["worktree", "git", "isolation", "patches"]},
        {"id": "DR-DO-005-2", "title": "Scope Enforcement", "keywords": ["scope", "validation", "enforcement"]}
      ]
    },
    {
      "section_id": "DR-DO-006",
      "category": "DO",
      "title": "Operator Mindset",
      "level": 2,
      "line_start": 176,
      "summary": "Behave as autonomous operator, not passive code generator",
      "keywords": ["operator", "autonomous", "decision_making", "discovery"],
      "subsections": [
        {"id": "DR-DO-006-1", "title": "Autonomous Operation", "keywords": ["autonomous", "operator", "no_permission"]},
        {"id": "DR-DO-006-2", "title": "Discovery Over Assumption", "keywords": ["discovery", "verify", "no_hallucination"]}
      ]
    },
    {
      "section_id": "DR-DO-007",
      "category": "DO",
      "title": "Test-Driven Everything",
      "level": 2,
      "line_start": 204,
      "summary": "Tests mandatory for all phases, no completion without passing tests",
      "keywords": ["testing", "mandatory", "pytest", "verification"],
      "subsections": [
        {"id": "DR-DO-007-1", "title": "Test Requirements", "keywords": ["requirements", "coverage", "deterministic"]},
        {"id": "DR-DO-007-2", "title": "Test Verification", "keywords": ["verification", "no_shortcuts"]}
      ]
    },
    {
      "section_id": "DR-DO-008",
      "category": "DO",
      "title": "Standard Architecture Layout",
      "level": 2,
      "line_start": 235,
      "summary": "Follow established architecture created by Phase 0",
      "keywords": ["architecture", "directories", "structure", "consistency"],
      "subsections": [
        {"id": "DR-DO-008-1", "title": "Required Directories", "keywords": ["directories", "phase_0", "baseline"]},
        {"id": "DR-DO-008-2", "title": "Architecture Consistency", "keywords": ["consistency", "no_deviation"]}
      ]
    },
    {
      "section_id": "DR-DONT-001",
      "category": "DONT",
      "title": "Hallucination of Success",
      "level": 2,
      "line_start": 267,
      "summary": "Declaring completion without observable verification",
      "keywords": ["anti-pattern", "hallucination", "false_success"],
      "severity": "critical",
      "subsections": [
        {"id": "DR-DONT-001-1", "title": "What Happened", "keywords": ["example", "failure_mode"]},
        {"id": "DR-DONT-001-2", "title": "Rule Violated", "keywords": ["violation", "reference"]},
        {"id": "DR-DONT-001-3", "title": "Fix", "keywords": ["solution", "correct_approach"]}
      ]
    },
    {
      "section_id": "DR-DONT-002",
      "category": "DONT",
      "title": "Planning Loop Trap",
      "level": 2,
      "line_start": 289,
      "summary": "Endless planning without atomic execution",
      "keywords": ["anti-pattern", "planning", "no_execution"],
      "severity": "high",
      "subsections": [
        {"id": "DR-DONT-002-1", "title": "What Happened", "keywords": ["example", "80k_tokens"]},
        {"id": "DR-DONT-002-2", "title": "Rule Violated", "keywords": ["violation", "atomic_execution"]},
        {"id": "DR-DONT-002-3", "title": "Fix", "keywords": ["solution", "execute_immediately"]}
      ]
    },
    {
      "section_id": "DR-DONT-003",
      "category": "DONT",
      "title": "Permission Bottlenecks",
      "level": 2,
      "line_start": 309,
      "summary": "Asking for permission on obvious next steps",
      "keywords": ["anti-pattern", "permission", "bottleneck"],
      "severity": "medium",
      "subsections": [
        {"id": "DR-DONT-003-1", "title": "What Happened", "keywords": ["example", "would_you_like"]},
        {"id": "DR-DONT-003-2", "title": "Rule Violated", "keywords": ["violation", "operator_mindset"]},
        {"id": "DR-DONT-003-3", "title": "Fix", "keywords": ["solution", "autonomous_action"]}
      ]
    },
    {
      "section_id": "DR-DONT-004",
      "category": "DONT",
      "title": "Context Pollution",
      "level": 2,
      "line_start": 329,
      "summary": "Loading massive context without executing atomic steps",
      "keywords": ["anti-pattern", "context", "pollution", "no_execution"],
      "severity": "high",
      "subsections": [
        {"id": "DR-DONT-004-1", "title": "What Happened", "keywords": ["example", "300_lines", "65_files"]},
        {"id": "DR-DONT-004-2", "title": "Rule Violated", "keywords": ["violation", "isolation", "atomic"]},
        {"id": "DR-DONT-004-3", "title": "Fix", "keywords": ["solution", "start_small"]}
      ]
    },
    {
      "section_id": "DR-DONT-005",
      "category": "DONT",
      "title": "Trusting Tools Without Verification",
      "level": 2,
      "line_start": 349,
      "summary": "Assuming tools succeeded without checking filesystem",
      "keywords": ["anti-pattern", "trust", "no_verification"],
      "severity": "critical",
      "subsections": [
        {"id": "DR-DONT-005-1", "title": "What Happened", "keywords": ["example", "aider", "missing_files"]},
        {"id": "DR-DONT-005-2", "title": "Rule Violated", "keywords": ["violation", "cli_first"]},
        {"id": "DR-DONT-005-3", "title": "Fix", "keywords": ["solution", "always_verify"]}
      ]
    },
    {
      "section_id": "DR-DONT-006",
      "category": "DONT",
      "title": "Declaring Complete Without Programmatic Acceptance",
      "level": 2,
      "line_start": 369,
      "summary": "Marking phases complete without running acceptance tests",
      "keywords": ["anti-pattern", "no_tests", "false_completion"],
      "severity": "critical",
      "subsections": [
        {"id": "DR-DONT-006-1", "title": "What Happened", "keywords": ["example", "no_validation"]},
        {"id": "DR-DONT-006-2", "title": "Rule Violated", "keywords": ["violation", "test_driven"]},
        {"id": "DR-DONT-006-3", "title": "Fix", "keywords": ["solution", "run_tests"]}
      ]
    },
    {
      "section_id": "DR-GOLD-001",
      "category": "GOLDEN_WORKFLOW",
      "title": "Standard Execution Workflow",
      "level": 2,
      "line_start": 395,
      "summary": "Six-step workflow every phase must follow",
      "keywords": ["workflow", "standard", "steps", "golden"],
      "workflow_steps": [
        {"step": 1, "id": "DR-GOLD-001-1", "title": "Pre-Flight Check", "keywords": ["pre-flight", "prerequisites"]},
        {"step": 2, "id": "DR-GOLD-001-2", "title": "Execute Atomic Phase", "keywords": ["execute", "atomic", "isolated"]},
        {"step": 3, "id": "DR-GOLD-001-3", "title": "Inspect Reality", "keywords": ["inspect", "verify", "cli"]},
        {"step": 4, "id": "DR-GOLD-001-4", "title": "Self-Heal if Needed", "keywords": ["self-heal", "repair", "fix"]},
        {"step": 5, "id": "DR-GOLD-001-5", "title": "Re-Verify", "keywords": ["re-verify", "tests", "validation"]},
        {"step": 6, "id": "DR-GOLD-001-6", "title": "ONLY THEN: Mark Complete", "keywords": ["complete", "ledger", "state"]}
      ]
    },
    {
      "section_id": "DR-GOLD-002",
      "category": "GOLDEN_WORKFLOW",
      "title": "Success Metrics",
      "level": 2,
      "line_start": 428,
      "summary": "Definitive criteria for phase completion",
      "keywords": ["metrics", "success", "completion", "formula"],
      "completion_formula": "Complete = Tests_Pass AND Files_Exist AND Scope_Valid AND Patches_Stored"
    },
    {
      "section_id": "DR-999",
      "title": "Cross-References",
      "level": 2,
      "line_start": 445,
      "summary": "References to related specifications and enforcement components",
      "keywords": ["cross-references", "enforcement", "ups", "pps"],
      "references": [
        {"type": "specification", "id": "UPS-*", "description": "Universal Phase Specification"},
        {"type": "specification", "id": "PPS-*", "description": "PRO Phase Specification"},
        {"type": "component", "name": "Guard Rules Engine", "phase": "Phase 2B"},
        {"type": "component", "name": "Validation Gateway", "phase": "Phase 2C"},
        {"type": "component", "name": "Patch Manager", "phase": "Phase 4A"}
      ]
    },
    {
      "section_id": "DR-1000",
      "title": "Version History",
      "level": 2,
      "line_start": 459,
      "summary": "Document version history and changelog",
      "keywords": ["version", "history", "changelog"]
    }
  ],
  "section_id_pattern": "DR-(DO|DONT|GOLD)?-\\d{3}(-\\d+)?",
  "anchor_pattern": "{#DR-(DO|DONT|GOLD)?-\\d{3}(-\\d+)?}",
  "file_path": "specs/DEV_RULES_V1.md",
  "created_by": "Phase 1C - Convert Development Rules",
  "created_date": "2025-11-20",
  "validation_status": "valid",
  "anti_patterns_severity": {
    "critical": ["DR-DONT-001", "DR-DONT-005", "DR-DONT-006"],
    "high": ["DR-DONT-002", "DR-DONT-004"],
    "medium": ["DR-DONT-003"]
  }
}
