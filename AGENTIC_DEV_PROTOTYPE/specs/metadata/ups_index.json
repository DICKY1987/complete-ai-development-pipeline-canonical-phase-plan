{
  "document_id": "UNIVERSAL_PHASE_SPEC_V1",
  "document_title": "Universal Phase Specification v1.0",
  "version": "1.0.0",
  "last_updated": "2025-11-20",
  "total_sections": 13,
  "sections": [
    {
      "section_id": "UPS-001",
      "title": "Overview",
      "level": 2,
      "line_start": 11,
      "summary": "Defines mandatory structure and gates for all development phases executed by autonomous AI agents",
      "keywords": ["overview", "mandatory", "gates", "non-negotiable"]
    },
    {
      "section_id": "UPS-002",
      "title": "Phase Identity & Metadata",
      "level": 2,
      "line_start": 19,
      "summary": "Required metadata fields for phase identification and classification",
      "keywords": ["metadata", "phase_id", "workstream_id", "title", "objective", "phase_type", "parallel_group"],
      "subsections": [
        {"id": "UPS-002-1", "title": "phase_id (REQUIRED)", "keywords": ["identifier", "unique"]},
        {"id": "UPS-002-2", "title": "workstream_id (REQUIRED)", "keywords": ["workstream", "machine-readable"]},
        {"id": "UPS-002-3", "title": "title (REQUIRED)", "keywords": ["human-readable", "name"]},
        {"id": "UPS-002-4", "title": "objective (REQUIRED)", "keywords": ["goal", "atomic", "verifiable"]},
        {"id": "UPS-002-5", "title": "phase_type (REQUIRED)", "keywords": ["type", "category", "enumeration"]},
        {"id": "UPS-002-6", "title": "parallel_group (OPTIONAL)", "keywords": ["parallel", "concurrent", "group"]}
      ]
    },
    {
      "section_id": "UPS-003",
      "title": "Dependencies & Ordering",
      "level": 2,
      "line_start": 61,
      "summary": "Dependency management and execution ordering rules",
      "keywords": ["dependencies", "ordering", "depends_on", "parallel", "validation"],
      "subsections": [
        {"id": "UPS-003-1", "title": "depends_on (REQUIRED)", "keywords": ["dependency", "prerequisite"]},
        {"id": "UPS-003-2", "title": "may_run_parallel_with (OPTIONAL)", "keywords": ["parallel", "concurrent"]},
        {"id": "UPS-003-3", "title": "Parallelization Rules", "keywords": ["parallel", "rules", "conditions"]}
      ]
    },
    {
      "section_id": "UPS-004",
      "title": "File Scope Declaration",
      "level": 2,
      "line_start": 87,
      "summary": "File scope specification for patch validation and isolation",
      "keywords": ["file_scope", "create", "modify", "read_only", "validation", "isolation"],
      "subsections": [
        {"id": "UPS-004-1", "title": "File Scope Structure", "keywords": ["structure", "yaml"]},
        {"id": "UPS-004-2", "title": "File Scope Requirements", "keywords": ["requirements", "restrictions"]},
        {"id": "UPS-004-3", "title": "Scope Validation", "keywords": ["validation", "scope violation"]}
      ]
    },
    {
      "section_id": "UPS-005",
      "title": "Tooling & Environment Specification",
      "level": 2,
      "line_start": 129,
      "summary": "Tool and environment requirements for phase execution",
      "keywords": ["tools", "environment", "languages", "test_runners", "shell"],
      "subsections": [
        {"id": "UPS-005-1", "title": "Tool Declaration Structure", "keywords": ["structure", "declaration"]},
        {"id": "UPS-005-2", "title": "Tool Usage Rules", "keywords": ["rules", "validation", "self-healing"]}
      ]
    },
    {
      "section_id": "UPS-006",
      "title": "Pre-Flight Check",
      "level": 2,
      "line_start": 162,
      "summary": "Mandatory pre-execution checks before phase starts",
      "keywords": ["pre-flight", "validation", "checks", "git", "worktree", "environment"],
      "subsections": [
        {"id": "UPS-006-1", "title": "Git & Worktree State", "keywords": ["git", "worktree", "status"]},
        {"id": "UPS-006-2", "title": "Repository Location", "keywords": ["repository", "path"]},
        {"id": "UPS-006-3", "title": "Architecture Baseline", "keywords": ["architecture", "baseline", "directories"]},
        {"id": "UPS-006-4", "title": "Environment & Dependencies", "keywords": ["python", "venv", "dependencies"]},
        {"id": "UPS-006-5", "title": "Workstream Definition Validation", "keywords": ["workstream", "schema", "validation"]},
        {"id": "UPS-006-6", "title": "Pre-Flight Output Requirements", "keywords": ["output", "logging", "self-healing"]}
      ]
    },
    {
      "section_id": "UPS-007",
      "title": "Programmatic Acceptance Tests",
      "level": 2,
      "line_start": 201,
      "summary": "Required acceptance tests for phase completion verification",
      "keywords": ["acceptance_tests", "validation", "programmatic", "cli", "pytest"],
      "subsections": [
        {"id": "UPS-007-1", "title": "Acceptance Test Structure", "keywords": ["structure", "yaml", "powershell", "python"]},
        {"id": "UPS-007-2", "title": "Acceptance Test Rules", "keywords": ["rules", "completion", "criteria"]},
        {"id": "UPS-007-3", "title": "Test Categories", "keywords": ["filesystem", "behavioral", "tests"]}
      ]
    },
    {
      "section_id": "UPS-008",
      "title": "Output Artifacts & Logging",
      "level": 2,
      "line_start": 259,
      "summary": "Required output artifacts for traceability and rollback",
      "keywords": ["artifacts", "patches", "logging", "audit", "traceability"],
      "subsections": [
        {"id": "UPS-008-1", "title": "Patch Artifacts", "keywords": ["patch", "diff", "storage"]},
        {"id": "UPS-008-2", "title": "Audit Entries", "keywords": ["audit", "jsonl", "events"]},
        {"id": "UPS-008-3", "title": "Test Output Logs", "keywords": ["logs", "test_output", "timestamped"]},
        {"id": "UPS-008-4", "title": "Completion Requirement", "keywords": ["completion", "validation"]}
      ]
    },
    {
      "section_id": "UPS-009",
      "title": "Self-Healing & Error Recovery",
      "level": 2,
      "line_start": 294,
      "summary": "Autonomous error recovery and self-healing procedures",
      "keywords": ["self-healing", "error_recovery", "autonomous", "retry"],
      "subsections": [
        {"id": "UPS-009-1", "title": "Self-Healing Loop", "keywords": ["loop", "detect", "repair", "verify"]},
        {"id": "UPS-009-2", "title": "Common Self-Healing Actions", "keywords": ["actions", "fixes", "automation"]},
        {"id": "UPS-009-3", "title": "Escalation Criteria", "keywords": ["escalation", "blocked", "manual_intervention"]}
      ]
    },
    {
      "section_id": "UPS-010",
      "title": "Phase State Machine",
      "level": 2,
      "line_start": 322,
      "summary": "State machine defining phase lifecycle and transitions",
      "keywords": ["state_machine", "lifecycle", "transitions", "states"],
      "subsections": [
        {"id": "UPS-010-1", "title": "State Definitions", "keywords": ["states", "definitions"]},
        {"id": "UPS-010-2", "title": "State Transitions", "keywords": ["transitions", "flow"]},
        {"id": "UPS-010-3", "title": "Terminal States", "keywords": ["terminal", "complete", "failed", "blocked"]}
      ]
    },
    {
      "section_id": "UPS-011",
      "title": "Validation Gates",
      "level": 2,
      "line_start": 355,
      "summary": "Validation gates that must pass before phase execution",
      "keywords": ["validation", "gates", "schema", "dependencies", "file_scope", "guard_rules"],
      "subsections": [
        {"id": "UPS-011-1", "title": "Schema Validation", "keywords": ["schema", "json_schema"]},
        {"id": "UPS-011-2", "title": "Dependency Validation", "keywords": ["dependencies", "circular", "exists"]},
        {"id": "UPS-011-3", "title": "File Scope Validation", "keywords": ["file_scope", "overlap", "security"]},
        {"id": "UPS-011-4", "title": "Guard Rules Validation", "keywords": ["guard_rules", "anti-patterns", "best_practices"]}
      ]
    },
    {
      "section_id": "UPS-012",
      "title": "Cross-References",
      "level": 2,
      "line_start": 384,
      "summary": "References to related specifications and components",
      "keywords": ["cross-references", "related", "pps", "dr", "implementation"],
      "references": [
        {"type": "specification", "id": "PPS-*", "description": "PRO Phase Specification"},
        {"type": "specification", "id": "DR-DO-*", "description": "Development Rules (DO practices)"},
        {"type": "specification", "id": "DR-DONT-*", "description": "Development Rules (DONT anti-patterns)"},
        {"type": "component", "name": "Schema Generator", "phase": "Phase 1E"},
        {"type": "component", "name": "Spec Renderer", "phase": "Phase 1F"},
        {"type": "component", "name": "Validation Gateway", "phase": "Phase 2C"}
      ]
    },
    {
      "section_id": "UPS-013",
      "title": "Version History",
      "level": 2,
      "line_start": 400,
      "summary": "Document version history and changelog",
      "keywords": ["version", "history", "changelog"]
    }
  ],
  "section_id_pattern": "UPS-\\d{3}(-\\d+)?",
  "anchor_pattern": "{#UPS-\\d{3}(-\\d+)?}",
  "file_path": "specs/UNIVERSAL_PHASE_SPEC_V1.md",
  "created_by": "Phase 1A - Convert Universal Phase Specification",
  "created_date": "2025-11-20",
  "validation_status": "valid"
}
