{
  "phase_id": "PH-2C",
  "workstream_id": "WS-VALIDATION",
  "phase_name": "Integrated Validation Gateway",
  "objective": "Build unified validation gateway that orchestrates schema validation, guard rules, and dependency checks",
  "dependencies": ["PH-2A", "PH-2B"],
  "file_scope": [
    "src/validation_gateway.py",
    "tests/test_validation_gateway.py"
  ],
  "pre_flight_checks": [
    {
      "check_id": "PFC-2C-001",
      "description": "Schema validator exists",
      "command": "test -f src/validators/schema_validator.py",
      "expected": "exit code 0"
    },
    {
      "check_id": "PFC-2C-002",
      "description": "Guard rules engine exists",
      "command": "test -f src/validators/guard_rules_engine.py",
      "expected": "exit code 0"
    }
  ],
  "acceptance_tests": [
    {
      "test_id": "AT-2C-001",
      "description": "Gateway runs all validation layers",
      "command": "python src/validation_gateway.py --validate phase_specs/phase_0_bootstrap.json",
      "expected": "exit code 0, all layers pass"
    },
    {
      "test_id": "AT-2C-002",
      "description": "Gateway reports which layer failed",
      "command": "python src/validation_gateway.py --validate invalid_spec.json --verbose",
      "expected": "reports specific layer (schema/guard/deps) that failed"
    },
    {
      "test_id": "AT-2C-003",
      "description": "Can validate entire phase plan",
      "command": "python src/validation_gateway.py --validate-plan master_phase_plan.json",
      "expected": "exit code 0, validates all phases and dependencies"
    },
    {
      "test_id": "AT-2C-004",
      "description": "Outputs validation report in JSON",
      "command": "python src/validation_gateway.py --validate phase_specs/phase_1a_universal_spec.json --output-format json",
      "expected": "valid JSON with results from all layers"
    },
    {
      "test_id": "AT-2C-005",
      "description": "Pre-execution validation mode",
      "command": "python src/validation_gateway.py --pre-exec phase_specs/phase_2a_schema_validator.json",
      "expected": "checks dependencies satisfied, file scope clear"
    },
    {
      "test_id": "AT-2C-006",
      "description": "Unit tests pass",
      "command": "pytest tests/test_validation_gateway.py -v",
      "expected": "all tests pass (>= 12 tests)"
    }
  ],
  "deliverables": [
    "src/validation_gateway.py orchestrating all validators",
    "tests/test_validation_gateway.py integration tests"
  ],
  "estimated_effort_hours": 8,
  "risk_level": "medium",
  "notes": "Critical component - gates all phase execution"
}
